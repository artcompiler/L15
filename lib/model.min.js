var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString),forEach=function(b,e,d){if(Array.prototype.forEach)return b.forEach(e);b=toObject(b);var p=splitString&&"[object String]"==_toString(b)?b.split(""):b,q=-1,m=p.length>>>0;if("[object Function]"!=_toString(e))throw new TypeError;for(;++q<m;)q in p&&e.call(d,p[q],q,b)},filter=function(b,e,d){if(Array.prototype.filter)return b.filter(e);var p=toObject(b);b=splitString&&"[object String]"==_toString(b)?b.split(""):p;var q=
b.length>>>0,m=[],a;if("[object Function]"!=_toString(e))throw new TypeError(e+" is not a function");for(var f=0;f<q;f++)f in b&&(a=b[f],e.call(d,a,f,p)&&m.push(a));return m},every=function(b,e,d){if(Array.prototype.every)return b.every(e,d);var p=toObject(b);b=splitString&&"[object String]"==_toString(b)?b.split(""):p;var q=b.length>>>0;if("[object Function]"!=_toString(e))throw new TypeError(e+" is not a function");for(var m=0;m<q;m++)if(m in b&&!e.call(d,b[m],m,p))return!1;return!0},some=function(b,
e,d){if(Array.prototype.some)return b.some(e,d);var p=toObject(b);b=splitString&&"[object String]"==_toString(b)?b.split(""):p;var q=b.length>>>0;if("[object Function]"!=_toString(e))throw new TypeError(e+" is not a function");for(var m=0;m<q;m++)if(m in b&&e.call(d,b[m],m,p))return!0;return!1},indexOf=function(b,e){var d=arguments[2];if(Array.prototype.indexOf)return b.indexOf(e,d);var p=splitString&&"[object String]"==_toString(b)?b.split(""):toObject(b),q=p.length>>>0;if(!q)return-1;var m=0;2<
arguments.length&&(m=toInteger(d));for(m=0<=m?m:Math.max(0,q+m);m<q;m++)if(m in p&&p[m]===e)return m;return-1},keys=function(b){if(Object.keys)return Object.keys(b);var e=!0,d="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),p=d.length,q;for(q in{toString:null})e=!1;if("object"!=typeof b&&"function"!=typeof b||null===b)throw new TypeError("Object.keys called on a non-object");q=[];for(var m in b)owns(b,m)&&q.push(m);if(e)for(e=0;e<p;e++)m=
d[e],owns(b,m)&&q.push(m);return q},toObject=function(b){if(null==b)throw new TypeError("can't convert "+b+" to object");return Object(b)},prototypeOfObject=Object.prototype,_toString=function(b){return prototypeOfObject.toString.apply(b)},owns=function(b,e){return prototypeOfObject.hasOwnProperty.call(b,e)},create=function(b){if(Object.create)return Object.create(b);var e=function(){};if(1!=arguments.length)throw Error("Object.create implementation only accepts one parameter.");e.prototype=b;return new e};var ASSERT=!0,assert=function(){return ASSERT?function(b,e){void 0===e&&(e="failed!");if(!b){var d=Error(e);d.location=Assert.location;throw d;}}:function(){}}(),message=function(b,e){var d=Assert.messages[b];e&&forEach(e,function(b,e){d=d.replace("%"+(e+1),b)});return b+": "+d},reserveCodeRange=function(b,e,d){assert(b<=e,"Invalid code range");var p=every(Assert.reservedCodes,function(d){return e<d.first||b>d.last});assert(p,"Conflicting request for error code range");Assert.reservedCodes.push({first:b,
last:e,name:d})},setLocation=function(b){Assert.location=b},clearLocation=function(){Assert.location=null},setCounter=function(b,e){Assert.count=b;Assert.countMessage=e?e:"ERROR count exceeded"},checkCounter=function(){var b=Assert.count;"number"!==typeof b||isNaN(b)?assert(!1,"ERROR counter not set"):assert(Assert.count--,Assert.countMessage)},Assert={assert:assert,message:message,messages:{},reserveCodeRange:reserveCodeRange,reservedCodes:[],setLocation:setLocation,clearLocation:clearLocation,setCounter:setCounter,
checkCounter:checkCounter};var TRACE=!1,global=this,trace=function(){return TRACE?function(b){if(global.console&&global.console.log)console.log(b);else if(global.print)print(b);else throw"No trace function defined!";}:function(){}}();var Ast=function(){function b(){}function e(b){void 0===b&&(b=this);return b.op&&b.args}var d=["unused"],p={};b.clearPool=function(){d=["unused"];p={}};b.prototype.create=function m(b,e){var d=m(this);"string"===typeof b?(d.op=b,d.args=e instanceof Array?e:[]):null!==b&&"object"===typeof b&&forEach(keys(b),function(e,f){d[e]=b[e]});return d};b.prototype.arg=function(b){if(!e(this))throw"Malformed node";this.args.push(b);return this};b.prototype.argN=function(b,a){if(!e(this))throw"Malformed node";
if(void 0===a)return this.args[b];this.args[b]=a;return this};b.prototype.args=function(b){if(!e(this))throw"Malformed node";if(void 0===b)return this.args;this.args=b;return this};b.prototype.isNode=e;b.intern=b.prototype.intern=function a(f){this instanceof b&&void 0===f&&e(this)&&(f=this);assert("object"===typeof f,"node not an object");for(var C=f.op,s=f.args.length,W="",H=[],w=0;w<s;w++)W="string"===typeof f.args[w]?W+(H[w]=f.args[w]):W+(H[w]=a(f.args[w]));f=C+s+W;s=p[f];void 0===s&&(d.push({op:C,
args:H}),s=d.length-1,p[f]=s);return s};b.prototype.node=function(b){b=JSON.parse(JSON.stringify(d[b]));for(var e=0;e<b.args.length;e++)"string"!==typeof b.args[e]&&(b.args[e]=this.node(b.args[e]));return b};b.dumpAll=b.prototype.dumpAll=function(){var a="";forEach(d,function(e,d){a+="\n"+d+": "+b.dump(e)});return a};b.dump=b.prototype.dump=function f(b){if("string"===typeof b)var e='"'+b+'"';else if("number"===typeof b)e=b;else{for(var e='{ op: "'+b.op+'", args: [ ',d=0;d<b.args.length;d++)0<d&&
(e+=" , "),e+=f(b.args[d]);e+=" ] }"}return e};return b}();var Model=function(){function b(){}function e(){return!!b.env.Au}b.fn={};b.env=p={};var d=[],p={};b.pushEnv=function(a){d.push(p);b.env=p=a};b.popEnv=function(){assert(0<d.length,"Empty envStack");b.env=p=d.pop()};var q=b.prototype=new Ast;Assert.reserveCodeRange(1E3,1999,"model");Assert.messages[1001]="Invalid syntax. '%1' expected, '%2' found.";Assert.messages[1002]="Only one decimal separator can be specified.";Assert.messages[1003]="Extra characters in input at position: %1, lexeme: %2.";Assert.messages[1004]=
"Invalid character '%1' (%2) in input.";Assert.messages[1005]="Misplaced thousands separator.";Assert.messages[1006]="Unexpected expression: %1";Assert.messages[1007]="Unexpected character: '%1' in '%2'.";Assert.messages[1008]="The same character '%1' is being used as a thousands and decimal separators.";var m=Assert.message;b.create=q.create=function H(a,e){assert(a,"Model.create() called with invalid argument "+a);if(a instanceof b)return e&&(a.location=e),a;var f;if(a instanceof Array)return f=
[],forEach(a,function(b){f.push(H(b,e))}),f;if(!(this instanceof b))return(new b).create(a,e);f=H(this);f.location=e;a="string"===typeof a?s(a,b.env).expr():JSON.parse(JSON.stringify(a));forEach(keys(b.fn),function(a,e){q.hasOwnProperty(a)||(q[a]=function(){var e=b.fn[a];if(1<arguments.length&&arguments[1]instanceof b)return e.apply(this,arguments);for(var f=[this],d=0;d<arguments.length;d++)f.push(arguments[d]);return e.apply(this,f)})});forEach(keys(a),function(b,e){f[b]=a[b]});return f};b.fromLaTex=
q.fromLaTex=function(a){assert("string"===typeof a,"Model.prototype.fromLaTex");return this?this.create(a):b.create(a)};q.toLaTex=function(b){return C(b)};var a={ADD:"+",SUB:"-",MUL:"times",DIV:"div",FRAC:"frac",EQL:"=",ATAN2:"atan2",SQRT:"sqrt",VEC:"vec",PM:"pm",SIN:"sin",COS:"cos",TAN:"tan",SEC:"sec",COT:"cot",CSC:"csc",ARCSIN:"arcsin",ARCCOS:"arccos",ARCTAN:"arctan",LOG:"log",LN:"ln",LG:"lg",VAR:"var",NUM:"num",CST:"cst",COMMA:",",POW:"^",SUBSCRIPT:"_",ABS:"abs",PAREN:"()",HIGHLIGHT:"hi",LT:"lt",
LE:"le",GT:"gt",GE:"ge",INTERVAL:"interval",LIST:"list",EXISTS:"exists",IN:"in",FORALL:"forall",LIM:"lim",EXP:"exp",TO:"to",SUM:"sum",INT:"int",PROD:"prod",PERCENT:"%",M:"M",RIGHTARROW:"->",FACT:"fact",BINOM:"binom",ROW:"row",COL:"col",COLON:"colon",MATRIX:"matrix",FORMAT:"format",OVERSET:"overset",UNDERSET:"underset",OVERLINE:"overline"};forEach(keys(a),function(e,f){b[e]=a[e]});var f={};f[a.ADD]="+";f[a.SUB]="-";f[a.MUL]="\\times";f[a.DIV]="\\div";f[a.FRAC]="\\frac";f[a.EQL]="=";f[a.ATAN2]="\\atan2";
f[a.POW]="^";f[a.SUBSCRIPT]="_";f[a.PM]="\\pm";f[a.SIN]="\\sin";f[a.COS]="\\cos";f[a.TAN]="\\tan";f[a.ARCSIN]="\\arcsin";f[a.ARCCOS]="\\arccos";f[a.ARCTAN]="\\arctan";f[a.SEC]="\\sec";f[a.COT]="\\cot";f[a.CSC]="\\csc";f[a.LN]="\\ln";f[a.COMMA]=",";f[a.M]="\\M";f[a.BINOM]="\\binom";f[a.COLON]="\\colon";b.fold=function w(b,e){var h=[],f;forEach(b.args,function(b){h.push(w(b,e))});b.args=h;switch(b.op){case a.VAR:if(f=e[b.args[0]])b=f}return b};var C=function bb(b){var e="";if("string"===typeof b)e=
b;else if("number"===typeof b)e=b;else if("object"===typeof b){for(var d=[],m=0;m<b.args.length;m++)d[m]=bb(b.args[m]);switch(b.op){case a.VAR:case a.CST:case a.NUM:e=b.args[0];break;case a.SUB:e=1===b.args.length?f[b.op]+" "+d[0]:d[0]+" "+f[b.op]+" "+d[1];break;case a.DIV:case a.PM:case a.EQL:e=d[0]+" "+f[b.op]+" "+d[1];break;case a.POW:var m=b.args[0],p=b.args[1];if(m.args&&2===m.args.length||p.args&&2===p.args.length)if(m.op===a.ADD||m.op===a.SUB||m.op===a.MUL||m.op===a.DIV||m.op===a.SQRT)d[0]=
" ("+d[0]+") ";e="{"+d[0]+"^{"+d[1]+"}}";break;case a.SIN:case a.COS:case a.TAN:case a.ARCSIN:case a.ARCCOS:case a.ARCTAN:case a.SEC:case a.COT:case a.CSC:case a.LN:case a.M:e="{"+f[b.op]+"{"+d[0]+"}}";break;case a.FRAC:e="\\dfrac{"+d[0]+"}{"+d[1]+"}";break;case a.BINOM:e="\\binom{"+d[0]+"}{"+d[1]+"}";break;case a.SQRT:switch(d.length){case 1:e="\\sqrt{"+d[0]+"}";break;case 2:e="\\sqrt["+d[0]+"]{"+d[1]+"}"}break;case a.VEC:e="\\vec{"+d[0]+"}";break;case a.MUL:var q,e="";forEach(b.args,function(m,
p){if(m.args&&2<=m.args.length){if(m.op===a.ADD||m.op===a.SUB)d[p]="("+d[p]+")";0!==p&&"number"===typeof m&&(e+=f[b.op]+" ")}else m.op===a.PAREN||m.op===a.VAR||m.op===a.CST||"number"===typeof q&&"number"!==typeof m||0!==p&&(e+=" "+f[b.op]+" ");e+=d[p];q=m});break;case a.ADD:case a.COMMA:forEach(d,function(a,d){e=0===d?a:e+" "+f[b.op]+" "+a});break;default:assert(!1,"unimplemented eval operator")}}else assert(!1,"invalid expression type");return e},s=function(d,f){function h(b,a){return{op:b,args:a}}
function p(c,a){if(b.option("allowThousandsSeparator")){var e=b.option("setThousandsSeparator");if(!e)return","===c?c:"";if(c===a||!a&&0<=e.indexOf(c))return c}return""}function q(){var c=b.option("setDecimalSeparator"),a=b.option("setThousandsSeparator");if("string"===typeof c)return assert(1===c.length,m(1002)),a instanceof Array&&0<=a.indexOf(c)?(assert(!1,m(2008,[c])),"."):c;a instanceof Array&&0<=a.indexOf(".")&&assert(!1,m(2008));return"."}function s(c,a,e){var d=b.option("ignoreTrailingZeros"),
g=c.toString(),f="",l,h,n,k=!1,X="integer",r,t;"."===c&&assert(!1,m(1004,[c,c.charCodeAt(0)]));for(c=0;c<g.length;c++)p(l=g.charAt(c))?(k&&h!==c-4&&assert(!1,m(1005)),h=c,k=!0):(l===q()?(l=".","decimal"===X&&assert(!1,m(1007,[q(),f+q()])),X="decimal",k&&h!==c-4&&assert(!1,m(1005)),k=!1,"0"===f&&(r=!0),n=c-1):"decimal"===X&&"0"!==l&&(n=c),f+=l);k&&h!==c-4&&assert(!1,m(1005));void 0!==n&&(n+1<f.length&&(t=!0),d&&(f=f.substring(0,n+1)));f=new BigDecimal(f);a&&(a=option("decimalPlaces"),!e||f.scale()>
a)&&(f=f.setScale(a,BigDecimal.ROUND_HALF_UP));return{op:b.NUM,args:[String(f)],hasThousandsSeparator:k,numberFormat:X,hasLeadingZero:r,hasTrailingZero:t}}function I(c,a){return t(b.MUL,c,a)}function x(c,a){assert(1===a.length,"Wrong number of arguments for unary node");return c===b.ADD?a[0]:h(c,a)}function t(b,a,e){assert(1<a.length,"Too few argument for binary node");var d=[];forEach(a,function(a){e&&a.op===b?d=d.concat(a.args):d.push(a)});return h(b,d)}function n(b){k=Ta;Ta=Y;k===Y&&(k=y.start(b))}
function r(b,a){var e=k;if(e!==b){var d=String.fromCharCode(b),e=e?String.fromCharCode(e):"EOS";assert(!1,m(1001,[d,e]))}n(a)}function v(){var c,a;switch(a=k){case 65:case 97:case J:c=[y.lexeme()];n();(f=k)===D&&(n({oneCharToken:!0}),c.push(v()));c=h(b.VAR,c);e()&&((f=k)===E||f===z?(n(),c=x(l[f],[c])):k===F&&(r(F),r(Z)));break;case ja:c=s(y.lexeme());n();!e()||(f=k)!==E&&f!==z||(n(),c=x(l[f],[c]));break;case $:case aa:var d;r(a);c=K();b.option("allowInterval")?r(d=k===M?M:N):r(d=a===$?M:N);c.lbrk=
a;c.rbrk=d;!b.option("allowInterval")||2!==c.args.length||a!==$&&a!==aa||d!==M&&d!==N?c.op===b.COMMA&&(c.op=b.LIST):c.op=b.INTERVAL;break;case F:c=u();break;case Ua:n();a=u();d=[];for(d.push(C());k===O;)n(),d.push(C());d=h(l[O],d);r(ka);u();0<=a.args[0].indexOf("matrix")?c=h(b.MATRIX,[d]):assert(!1,"Unrecognized LaTeX name");break;case A:r(A);a=P();r(A);c=x(b.ABS,[a]);break;case ba:n();c=u();d=u();c=h(b.FRAC,[c,d]);c.isFraction=!0;break;case la:n();c=u();d=u();a=x(b.FACT,[c]);c=t(b.POW,[t(b.MUL,[x(b.FACT,
[d]),x(b.FACT,[t(b.ADD,[c,ma(d)])])]),B]);c=t(b.MUL,[a,c]);c.isBinomial=!0;break;case na:n();switch(k){case aa:r(aa);a=K();r(N);c=u();c=h(b.POW,[c,h(b.POW,[a,B])]);break;case F:c=u();c=h(b.POW,[c,h(b.POW,[h(b.NUM,["2"]),B])]);break;default:assert(!1,m(1001,["{ or (",String.fromCharCode(k)]))}break;case oa:n();a=u();c=h(b.VEC,[a]);break;case pa:case qa:case ra:n();var f;for(c=[];k===L;)n({oneCharToken:!0}),c.push(G());1===c.length&&c[0].op===b.NUM&&"-1"===c[0].args[0]?(a="arc"+l[a],c=[]):a=l[a];c.unshift(h(a,
[v()]));return 1<c.length?h(b.POW,c):c[0];case sa:case ta:case ua:case va:case wa:case xa:n();for(c=[];k===L;)n({oneCharToken:!0}),c.push(G());c.unshift(h(l[a],[v()]));return 1<c.length?h(b.POW,c):c[0];case ya:return n(),h(b.LOG,[h(b.VAR,["e"]),v()]);case za:return n(),h(b.LOG,[h(b.NUM,["10"]),v()]);case Aa:return n(),c=[],k===D?(n({oneCharToken:!0}),c.push(v())):c.push(h(b.VAR,["e"])),c.push(v()),h(b.LOG,c);case Ba:return n(),c=[],r(D),c.push(v()),c.push(v()),h(l[a],c);case Ca:case Da:case Ea:return n(),
c=[],k===D&&(n({oneCharToken:!0}),c.push(v()),r(L,{oneCharToken:!0}),c.push(v())),c.push(K()),h(l[a],c);case Fa:return n(),h(b.EXISTS,[Q()]);case Ga:return n(),h(b.FORALL,[K()]);case Ha:return n(),h(b.EXP,[P()]);case Va:return n(),h(b.M,[Ia()]);case Ja:return n(),h(b.FORMAT,[u()]);case Ka:return n(),h(b.OVERLINE,[u()]);case La:case Ma:return n(),c=u(),d=u(),d.args.push(h(l[a],[c])),d;default:assert(!1,m(1006,[y.lexeme()])),c=void 0}return c}function C(){var b=[];for(b.push(Q());k===R;)n(),b.push(Q());
return h(l[R],b)}function u(){r(F);var b=K();r(Z);return b}function ca(){var c;var a;for(c=[v()];(a=k)===L;){n({oneCharToken:!0});var d;d=c[0];d=d.op!==b.VAR?!1:(d=b.env[d.args[0]])&&d.name?!0:!1;!(d||e()&&c[0].op===b.VAR)||(a=k)!==E&&a!==z?(a=G(),a.op===b.VAR&&"\\circ"===a.args[0]?c=[I([c[0],h(b.VAR,["\\degree"])])]:c.push(a)):(n(),c.push(x(l[a],[Wa])))}c=1<c.length?h(b.POW,c):c[0];switch(k){case Xa:n();c=h(b.PERCENT,[c]);break;case Ya:n(),c=h(b.FACT,[c])}return c}function G(){var c,a;switch(c=k){case E:n();
a=ca();break;case z:n();a=ma(ca());break;case S:n();a=G();a=h(l[c],[a]);break;case D:case L:var e=l[c];n({oneCharToken:!0});(c=k)===E||c===z?(n(),a=Wa):a=G();a=h(e,[a]);break;default:c===J&&"$"===y.lexeme()?(n(),a=k?I([h(b.VAR,["$"]),ca()]):h(b.VAR,["$"])):a=ca()}return a}function Za(){var c=[G()];k===D&&(n({oneCharToken:!0}),c.push(G()),e()&&k===F&&(r(F),r(Z)));return 1<c.length?h(b.SUBSCRIPT,c):c[0]}function $a(){for(var c=Za();k===Na;)n(),c=h(b.FRAC,[c,Za()]),c.isFraction=!0;return c}function Ia(){var c,
a,d=!1,f=[];a=$a();for(f=a.op!==b.MUL||a.isBinomial?[a]:a.args;(c=k)&&!ab(c)&&!Oa(c)&&c!==da&&c!==ea&&c!==Z&&c!==M&&c!==N&&c!==T&&c!==U&&c!==A&&c!==O&&c!==R&&c!==ka;){d=!1;if(c===V||c===fa||c===Na)n(),d=!0;a=$a();c===fa&&(a=h(b.POW,[a,B]));var g;if(g=e())if(g=c===$)g=f[f.length-1],assert(!0,"Internal error in 'isVar()'"),g=g.op!==b.VAR?!1:void 0===g?!0:"M"===g.args[0];if(g)f.pop(),a=x(b.M,[a]);else{if(g=!d)if(g=0<f.length)g=[f[f.length-1],a],g=g[0].lbrk||g[1].lbrk||g[0].op!==b.NUM||g[1].op!==b.FRAC||
"integer"!==g[0].numberFormat||g[1].args[0].op!==b.NUM||"integer"!==g[1].args[0].numberFormat||g[1].args[1].op!==b.NUM||"integer"!==g[1].args[1].numberFormat?!1:!0;if(g)c=f.pop(),Pa(c)&&(a=t(b.MUL,[B,a])),a=t(b.ADD,[c,a]),a.isMixedFraction=!0;else{if(g=!d)if(g=0<f.length)g=[f[f.length-1],a],g=g[0].lbrk||g[1].lbrk||g[0].op!==b.NUM||"decimal"!==g[0].numberFormat||g[1].op!==b.OVERLINE?!1:!0;if(g)d=f.pop(),a=a.args[0],a=s("."+a.args[0]),a.isRepeating=!0,0<=d.args[0].indexOf(".")&&(g=d.args[0].length-
d.args[0].indexOf(".")-1,a=I([a,t(b.POW,[s("10"),s("-"+g)])])),a=t(b.ADD,[d,a]);else{if(g=c===V)if(g=0<f.length)d&&(g=[f[f.length-1],a],1===g.length?d=g[0].op===b.NUM&&(1===g[0].args[0].length||1===g[0].args[0].indexOf(q()))||g[0].op===b.POW&&g[0].args[0].op===b.NUM&&"10"===g[0].args[0].args[0]&&"integer"===g[0].args[1].numberFormat?!0:!1:2===g.length?(d=g[0],g=g[1],d=d.op!==b.NUM||1!==d.args[0].length&&1!==d.args[0].indexOf(q())||g.op!==b.POW||g.args[0].op!==b.NUM||"10"!==g.args[0].args[0]||"integer"!==
g.args[1].numberFormat?!1:!0):d=void 0),g=d;g&&(c=f.pop(),Pa(c)&&(a=t(b.MUL,[B,a])),a=t(b.MUL,[c,a]),a.isScientific=!0)}}}a.op!==b.MUL||a.isScientific||a.isBinomial?f.push(a):f=f.concat(a.args)}if(1<f.length){if(c=e())a:{c=f[1];if(c.op===b.VAR)c=c.args[0];else if(c.op===b.POW)c=c.args[0].args[0];else{c=!1;break a}c=(c=b.env[c])&&c.mass?!0:!1}return c?f[0].op===b.NUM?(c=f.shift(),I([c,t(b.ADD,f)])):t(b.ADD,f):a=I(f)}return f[0]}function Pa(c){if("number"===typeof c)return 0>c;if(1===c.args.length)return c.op===
a.SUB&&0<c.args[0].args[0]||c.op===b.NUM&&0>+c.args[0];if(2===c.args.length)return c.op===a.MUL&&Pa(c.args[0])}function ma(a){return"number"===typeof a?-a:a.op===b.NUM?"-"===a.args[0].charAt(0)?x(b.SUB,[a]):s("-"+a.args[0]):a.op===b.MUL?(a.args.unshift(B),a):I([B,a])}function ab(b){return b===E||b===z||b===S}function P(){for(var a=Ia(),e;ab(e=k);){n();var d=Ia();switch(e){case S:a=t(b.PM,[a,d]);break;case z:d=ma(d);default:a=t(b.ADD,[a,d],!0)}}return a}function Oa(b){return b===U||b===ga||b===ha||
b===ia||b===Qa||b===Ra||b===Sa}function Q(){var a;if(k===ea)a=h(b.VAR,["_"]);else{a=k;for(var e=Oa(a)?h(b.VAR,["_"]):P(),d=[];Oa(a=k);){n();var f=0===k?h(b.VAR,["_"]):P(),e=h(l[a],[e,f]);d.push(e);e=f}a=0===d.length?e:1===d.length?d[0]:h(b.COMMA,d)}for(var g,e=[];(g=k)===ea||g===T;)n(),d=0===k?h(b.VAR,["_"]):P(),a=h(l[g],[a,d]),e.push(a),a=d;return 0===e.length?a:1===e.length?e[0]:h(b.COMMA,e)}function K(){for(var b=Q(),a=[b];k===da;)n(),a.push(Q());return 1<a.length?h(l[da],a):b}var Y=0,E=43,L=94,
D=95,qa=261,wa=264,xa=265,ba=256,Na=47,ea=61,ya=263,F=123,A=124,aa=91,$=40,V=42,ja=48,S=258,Z=125,N=93,M=41,va=262,pa=259,na=257,z=45,ra=260,J=97,da=44,za=267,Aa=268,U=270,ga=271,ha=272,ia=273,Fa=274,Qa=275,Ga=276,Ba=277,Ha=278,Ra=279,Ca=280,Da=281,Ea=282,Xa=37,Va=283,T=284,Ya=33,la=285,O=286,R=287,Ua=288,ka=289,Sa=58,oa=290,sa=291,ta=292,ua=293,fa=294,Ja=295,Ka=296,La=297,Ma=298,k=Y,Ta=Y,l={};l[Na]=a.FRAC;l[ba]=a.FRAC;l[na]=a.SQRT;l[oa]=a.VEC;l[E]=a.ADD;l[z]=a.SUB;l[S]=a.PM;l[L]=a.POW;l[D]=a.SUBSCRIPT;
l[V]=a.MUL;l[fa]=a.DIV;l[pa]=a.SIN;l[qa]=a.COS;l[ra]=a.TAN;l[sa]=a.ARCSIN;l[ta]=a.ARCCOS;l[ua]=a.ARCTAN;l[va]=a.SEC;l[wa]=a.COT;l[xa]=a.CSC;l[ya]=a.LN;l[za]=a.LG;l[Aa]=a.LOG;l[ea]=a.EQL;l[da]=a.COMMA;l[269]=a.TEXT;l[U]=a.LT;l[ga]=a.LE;l[ha]=a.GT;l[ia]=a.GE;l[Fa]=a.EXISTS;l[Qa]=a.IN;l[Ga]=a.FORALL;l[Ba]=a.LIM;l[Ha]=a.EXP;l[Ra]=a.TO;l[Ca]=a.SUM;l[Da]=a.INT;l[Ea]=a.PROD;l[Va]=a.M;l[T]=a.RIGHTARROW;l[Ya]=a.FACT;l[la]=a.BINOM;l[O]=a.ROW;l[R]=a.COL;l[Sa]=a.COLON;l[Ja]=a.FORMAT;l[Ka]=a.OVERLINE;l[La]=a.OVERSET;
l[Ma]=a.UNDERSET;var Wa=s("1"),B=s("-1"),y=function(a){function e(a){return 65<=a&&90>=a||97<=a&&122>=a}function d(a){return 48<=a&&57>=a}function l(b){var d=String.fromCharCode(b);for(h+=d;e(b)||39===b;){b=a.charCodeAt(g++);var d=String.fromCharCode(b),f=h+d;if(!some(k,function(a){return 0===a.indexOf(f)}))break;h+=d}for(;39===b;)b=a.charCodeAt(g++),d=String.fromCharCode(b),h+=d;g--;return J}var g=0,h="",n={"\\cdot":V,"\\times":V,"\\div":fa,"\\dfrac":ba,"\\frac":ba,"\\sqrt":na,"\\vec":oa,"\\pm":S,
"\\sin":pa,"\\cos":qa,"\\tan":ra,"\\sec":va,"\\cot":wa,"\\csc":xa,"\\arcsin":sa,"\\arccos":ta,"\\arctan":ua,"\\ln":ya,"\\lg":za,"\\log":Aa,"\\left":null,"\\right":null,"\\big":null,"\\Big":null,"\\bigg":null,"\\Bigg":null,"\\ ":null,"\\quad":null,"\\qquad":null,"\\text":269,"\\textrm":269,"\\textit":269,"\\textbf":269,"\\lt":U,"\\le":ga,"\\gt":ha,"\\ge":ia,"\\exists":Fa,"\\in":Qa,"\\forall":Ga,"\\lim":Ba,"\\exp":Ha,"\\to":Ra,"\\sum":Ca,"\\int":Da,"\\prod":Ea,"\\%":Xa,"\\rightarrow":T,"\\binom":la,
"\\begin":Ua,"\\end":ka,"\\colon":Sa,"\\vert":A,"\\lvert":A,"\\rvert":A,"\\mid":A,"\\format":Ja,"\\overline":Ka,"\\overset":La,"\\underset":Ma},k=keys(f),r;return{start:function(f){f||(f={});var k;for(h="";g<a.length;)switch(k=a.charCodeAt(g++)){case 32:case 9:case 10:case 13:continue;case 38:if(0===a.substring(g).indexOf("nbsp;")){g+=5;continue}return R;case 92:h+=String.fromCharCode(k);if(92===a.charCodeAt(g))return g++,O;k=a.charCodeAt(g++);if(36===k)h=String.fromCharCode(k);else if(37===k)h+=
String.fromCharCode(k);else if(0<=[32,58,59,44,33].indexOf(k))h="\\ ";else{for(;e(k);)h+=String.fromCharCode(k),k=a.charCodeAt(g++);g--}k=n[h];if(void 0===k)k=J;else if(269===k){for(k=a.charCodeAt(g++);123!==k;)k=a.charCodeAt(g++);h="";for(k=a.charCodeAt(g++);125!==k;)k=String.fromCharCode(k),"&"===k&&0===a.substring(g).indexOf("nbsp;")?g+=5:" "!==k&&"\t"!==k&&(h+=k),k=a.charCodeAt(g++);k=b.option("ignoreText")?null:J}if(null!==k)return k;h="";continue;case 45:if(62===a.charCodeAt(g))return g++,T;
case 33:case 37:case 40:case 41:case 42:case 43:case 44:case 47:case 58:case 61:case 91:case 93:case 94:case 95:case 123:case 124:case 125:return h+=String.fromCharCode(k),k;case 36:return h+=String.fromCharCode(k),J;case 60:return 61===a.charCodeAt(g)?(g++,ga):U;case 62:return 61===a.charCodeAt(g)?(g++,ia):ha;default:if(e(k)||39===k)return l(k);if(String.fromCharCode(k)===q()||d(k)){if(f.oneCharToken)return h+=String.fromCharCode(k),ja;for(f=k;d(f)||q()===String.fromCharCode(f)||(r=p(String.fromCharCode(f),
r))&&d(a.charCodeAt(g+1));)h+=String.fromCharCode(f),f=a.charCodeAt(g++),92===f&&32===a.charCodeAt(g)&&(f=32,g++);"."===h&&0===indexOf(a.substring(g),"overline")&&(h="0.");g--;return ja}assert(!1,m(1004,[String.fromCharCode(k),k]));return 0}return 0},lexeme:function(){return h},pos:function(){return g}}}(d);return{expr:function(){if(k=y.start(void 0)){var a=K();assert(!k,m(1003,[y.pos(),y.lexeme()]));return a}return s("dummy")}}};return b}();
