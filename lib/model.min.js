var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString),forEach=function(b,d,c){if(Array.prototype.forEach)return b.forEach(d);b=toObject(b);var p=splitString&&"[object String]"==_toString(b)?b.split(""):b,r=-1,e=p.length>>>0;if("[object Function]"!=_toString(d))throw new TypeError;for(;++r<e;)r in p&&d.call(c,p[r],r,b)},filter=function(b,d,c){if(Array.prototype.filter)return b.filter(d);var p=toObject(b);b=splitString&&"[object String]"==_toString(b)?b.split(""):p;var r=
b.length>>>0,e=[],a;if("[object Function]"!=_toString(d))throw new TypeError(d+" is not a function");for(var f=0;f<r;f++)f in b&&(a=b[f],d.call(c,a,f,p)&&e.push(a));return e},every=function(b,d,c){if(Array.prototype.every)return b.every(d,c);var p=toObject(b);b=splitString&&"[object String]"==_toString(b)?b.split(""):p;var r=b.length>>>0;if("[object Function]"!=_toString(d))throw new TypeError(d+" is not a function");for(var e=0;e<r;e++)if(e in b&&!d.call(c,b[e],e,p))return!1;return!0},some=function(b,
d,c){if(Array.prototype.some)return b.some(d,c);var p=toObject(b);b=splitString&&"[object String]"==_toString(b)?b.split(""):p;var r=b.length>>>0;if("[object Function]"!=_toString(d))throw new TypeError(d+" is not a function");for(var e=0;e<r;e++)if(e in b&&d.call(c,b[e],e,p))return!0;return!1},indexOf=function(b,d){var c=arguments[2];if(Array.prototype.indexOf)return b.indexOf(d,c);var p=splitString&&"[object String]"==_toString(b)?b.split(""):toObject(b),r=p.length>>>0;if(!r)return-1;var e=0;2<
arguments.length&&(e=toInteger(c));for(e=0<=e?e:Math.max(0,r+e);e<r;e++)if(e in p&&p[e]===d)return e;return-1},keys=function(b){if(Object.keys)return Object.keys(b);var d=!0,c="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),p=c.length,r;for(r in{toString:null})d=!1;if("object"!=typeof b&&"function"!=typeof b||null===b)throw new TypeError("Object.keys called on a non-object");r=[];for(var e in b)owns(b,e)&&r.push(e);if(d)for(d=0;d<p;d++)e=
c[d],owns(b,e)&&r.push(e);return r},toObject=function(b){if(null==b)throw new TypeError("can't convert "+b+" to object");return Object(b)},prototypeOfObject=Object.prototype,_toString=function(b){return prototypeOfObject.toString.apply(b)},owns=function(b,d){return prototypeOfObject.hasOwnProperty.call(b,d)},create=function(b){if(Object.create)return Object.create(b);var d=function(){};if(1!=arguments.length)throw Error("Object.create implementation only accepts one parameter.");d.prototype=b;return new d};var ASSERT=!0,assert=function(){return ASSERT?function(b,d){void 0===d&&(d="failed!");if(!b){var c=Error(d);c.location=Assert.location;throw c;}}:function(){}}(),message=function(b,d){var c=Assert.messages[b];d&&forEach(d,function(b,d){c=c.replace("%"+(d+1),b)});return b+": "+c},reserveCodeRange=function(b,d,c){assert(b<=d,"Invalid code range");var p=every(Assert.reservedCodes,function(c){return d<c.first||b>c.last});assert(p,"Conflicting request for error code range");Assert.reservedCodes.push({first:b,
last:d,name:c})},setLocation=function(b){Assert.location=b},clearLocation=function(){Assert.location=null},setCounter=function(b,d){Assert.count=b;Assert.countMessage=d?d:"ERROR count exceeded"},checkCounter=function(){var b=Assert.count;"number"!==typeof b||isNaN(b)?assert(!1,"ERROR counter not set"):assert(Assert.count--,Assert.countMessage)},Assert={assert:assert,message:message,messages:{},reserveCodeRange:reserveCodeRange,reservedCodes:[],setLocation:setLocation,clearLocation:clearLocation,setCounter:setCounter,
checkCounter:checkCounter};var TRACE=!1,global=this,trace=function(){return TRACE?function(b){if(global.console&&global.console.log)console.log(b);else if(global.print)print(b);else throw"No trace function defined!";}:function(){}}();var Ast=function(){function b(){}function d(b){void 0===b&&(b=this);return b.op&&b.args}var c=["unused"],p={};b.clearPool=function(){c=["unused"];p={}};b.prototype.create=function e(b,f){var d=e(this);"string"===typeof b?(d.op=b,d.args=f instanceof Array?f:[]):null!==b&&"object"===typeof b&&forEach(keys(b),function(f,e){d[f]=b[f]});return d};b.prototype.arg=function(b){if(!d(this))throw"Malformed node";this.args.push(b);return this};b.prototype.argN=function(b,a){if(!d(this))throw"Malformed node";
if(void 0===a)return this.args[b];this.args[b]=a;return this};b.prototype.args=function(b){if(!d(this))throw"Malformed node";if(void 0===b)return this.args;this.args=b;return this};b.prototype.isNode=d;b.intern=b.prototype.intern=function a(f){this instanceof b&&void 0===f&&d(this)&&(f=this);assert("object"===typeof f,"node not an object");for(var x=f.op,t=f.args.length,V="",F=[],y=0;y<t;y++)V="string"===typeof f.args[y]?V+(F[y]=f.args[y]):V+(F[y]=a(f.args[y]));f=x+t+V;t=p[f];void 0===t&&(c.push({op:x,
args:F}),t=c.length-1,p[f]=t);return t};b.prototype.node=function(b){b=JSON.parse(JSON.stringify(c[b]));for(var d=0;d<b.args.length;d++)"string"!==typeof b.args[d]&&(b.args[d]=this.node(b.args[d]));return b};b.dumpAll=b.prototype.dumpAll=function(){var a="";forEach(c,function(d,c){a+="\n"+c+": "+b.dump(d)});return a};b.dump=b.prototype.dump=function f(b){if("string"===typeof b)var d='"'+b+'"';else if("number"===typeof b)d=b;else{for(var d='{ op: "'+b.op+'", args: [ ',c=0;c<b.args.length;c++)0<c&&
(d+=" , "),d+=f(b.args[c]);d+=" ] }"}return d};return b}();var Model=function(){function b(){}function d(){return!!b.env.Au}b.fn={};b.env=p={};var c=[],p={};b.pushEnv=function(a){c.push(p);b.env=p=a};b.popEnv=function(){assert(0<c.length,"Empty envStack");b.env=p=c.pop()};var r=b.prototype=new Ast;Assert.reserveCodeRange(1E3,1999,"model");Assert.messages[1001]="Invalid syntax. '%1' expected, '%2' found.";Assert.messages[1002]="Only one decimal separator can be specified.";Assert.messages[1003]="Extra characters in input at position: %1, lexeme: %2.";Assert.messages[1004]=
"Invalid character '%1' (%2) in input.";Assert.messages[1005]="Misplaced thousands separator.";Assert.messages[1006]="Unexpected expression: %1";Assert.messages[1007]="Unexpected character: '%1' in '%2'.";Assert.messages[1008]="The same character '%1' is being used as a thousands and decimal separators.";var e=Assert.message;b.create=r.create=function F(a,d){assert(a,"Model.create() called with invalid argument "+a);if(a instanceof b)return d&&(a.location=d),a;var f;if(a instanceof Array)return f=
[],forEach(a,function(b){f.push(F(b,d))}),f;if(!(this instanceof b))return(new b).create(a,d);f=F(this);f.location=d;a="string"===typeof a?t(a,b.env).expr():JSON.parse(JSON.stringify(a));forEach(keys(b.fn),function(a,d){r.hasOwnProperty(a)||(r[a]=function(){var d=b.fn[a];if(1<arguments.length&&arguments[1]instanceof b)return d.apply(this,arguments);for(var f=[this],e=0;e<arguments.length;e++)f.push(arguments[e]);return d.apply(this,f)})});forEach(keys(a),function(b,d){f[b]=a[b]});return f};b.fromLaTex=
r.fromLaTex=function(a){assert("string"===typeof a,"Model.prototype.fromLaTex");return this?this.create(a):b.create(a)};r.toLaTex=function(b){return x(b)};var a={ADD:"+",SUB:"-",MUL:"times",DIV:"div",FRAC:"frac",EQL:"=",ATAN2:"atan2",SQRT:"sqrt",VEC:"vec",PM:"pm",SIN:"sin",COS:"cos",TAN:"tan",SEC:"sec",COT:"cot",CSC:"csc",ARCSIN:"arcsin",ARCCOS:"arccos",ARCTAN:"arctan",LOG:"log",LN:"ln",LG:"lg",VAR:"var",NUM:"num",CST:"cst",COMMA:",",POW:"^",SUBSCRIPT:"_",ABS:"abs",PAREN:"()",HIGHLIGHT:"hi",LT:"lt",
LE:"le",GT:"gt",GE:"ge",INTERVAL:"interval",LIST:"list",EXISTS:"exists",IN:"in",FORALL:"forall",LIM:"lim",EXP:"exp",TO:"to",SUM:"sum",INT:"int",PROD:"prod",PERCENT:"%",M:"M",RIGHTARROW:"->",FACT:"fact",BINOM:"binom",ROW:"row",COL:"col",COLON:"colon",MATRIX:"matrix",FORMAT:"format"};forEach(keys(a),function(d,f){b[d]=a[d]});var f={};f[a.ADD]="+";f[a.SUB]="-";f[a.MUL]="\\times";f[a.DIV]="\\div";f[a.FRAC]="\\frac";f[a.EQL]="=";f[a.ATAN2]="\\atan2";f[a.POW]="^";f[a.SUBSCRIPT]="_";f[a.PM]="\\pm";f[a.SIN]=
"\\sin";f[a.COS]="\\cos";f[a.TAN]="\\tan";f[a.ARCSIN]="\\arcsin";f[a.ARCCOS]="\\arccos";f[a.ARCTAN]="\\arctan";f[a.SEC]="\\sec";f[a.COT]="\\cot";f[a.CSC]="\\csc";f[a.LN]="\\ln";f[a.COMMA]=",";f[a.M]="\\M";f[a.BINOM]="\\binom";f[a.COLON]="\\colon";b.fold=function y(b,d){var h=[],f;forEach(b.args,function(b){h.push(y(b,d))});b.args=h;switch(b.op){case a.VAR:if(f=d[b.args[0]])b=f}return b};var x=function $a(b){var d="";if("string"===typeof b)d=b;else if("number"===typeof b)d=b;else if("object"===typeof b){for(var e=
[],c=0;c<b.args.length;c++)e[c]=$a(b.args[c]);switch(b.op){case a.VAR:case a.CST:case a.NUM:d=b.args[0];break;case a.SUB:d=1===b.args.length?f[b.op]+" "+e[0]:e[0]+" "+f[b.op]+" "+e[1];break;case a.DIV:case a.PM:case a.EQL:d=e[0]+" "+f[b.op]+" "+e[1];break;case a.POW:var c=b.args[0],p=b.args[1];if(c.args&&2===c.args.length||p.args&&2===p.args.length)if(c.op===a.ADD||c.op===a.SUB||c.op===a.MUL||c.op===a.DIV||c.op===a.SQRT)e[0]=" ("+e[0]+") ";d="{"+e[0]+"^{"+e[1]+"}}";break;case a.SIN:case a.COS:case a.TAN:case a.ARCSIN:case a.ARCCOS:case a.ARCTAN:case a.SEC:case a.COT:case a.CSC:case a.LN:case a.M:d=
"{"+f[b.op]+"{"+e[0]+"}}";break;case a.FRAC:d="\\dfrac{"+e[0]+"}{"+e[1]+"}";break;case a.BINOM:d="\\binom{"+e[0]+"}{"+e[1]+"}";break;case a.SQRT:switch(e.length){case 1:d="\\sqrt{"+e[0]+"}";break;case 2:d="\\sqrt["+e[0]+"]{"+e[1]+"}"}break;case a.VEC:d="\\vec{"+e[0]+"}";break;case a.MUL:var r,d="";forEach(b.args,function(c,p){if(c.args&&2<=c.args.length){if(c.op===a.ADD||c.op===a.SUB)e[p]="("+e[p]+")";0!==p&&"number"===typeof c&&(d+=f[b.op]+" ")}else c.op===a.PAREN||c.op===a.VAR||c.op===a.CST||"number"===
typeof r&&"number"!==typeof c||0!==p&&(d+=" "+f[b.op]+" ");d+=e[p];r=c});break;case a.ADD:case a.COMMA:forEach(e,function(a,e){d=0===e?a:d+" "+f[b.op]+" "+a});break;default:assert(!1,"unimplemented eval operator")}}else assert(!1,"invalid expression type");return d},t=function(f,c){function h(b,a){return{op:b,args:a}}function p(g,a){if(b.option("allowThousandsSeparator")){var d=b.option("setThousandsSeparator");if(!d)return","===g?g:"";if(g===a||!a&&0<=d.indexOf(g))return g}return""}function r(){var g=
b.option("setDecimalSeparator"),a=b.option("setThousandsSeparator");if("string"===typeof g)return assert(1===g.length,e(1002)),a instanceof Array&&0<=a.indexOf(g)?(assert(!1,e(2008,[g])),"."):g;a instanceof Array&&0<=a.indexOf(".")&&assert(!1,e(2008));return"."}function t(g,a,d){var f=b.option("ignoreTrailingZeros"),k=g.toString(),c="",l,h,m,G=!1,n="integer",q,s;"."===g&&assert(!1,e(1004,[g,g.charCodeAt(0)]));for(g=0;g<k.length;g++)p(l=k.charAt(g))?(G&&h!==g-4&&assert(!1,e(1005)),h=g,G=!0):(l===r()?
(l=".","decimal"===n&&assert(!1,e(1007,[r(),c+r()])),n="decimal",G&&h!==g-4&&assert(!1,e(1005)),G=!1,"0"===c&&(q=!0),m=g-1):"decimal"===n&&"0"!==l&&(m=g),c+=l);G&&h!==g-4&&assert(!1,e(1005));void 0!==m&&(m+1<c.length&&(s=!0),f&&(c=c.substring(0,m+1)));c=new BigDecimal(c);a&&(a=option("decimalPlaces"),!d||c.scale()>a)&&(c=c.setScale(a,BigDecimal.ROUND_HALF_UP));return{op:b.NUM,args:[String(c)],hasThousandsSeparator:G,numberFormat:n,hasLeadingZero:q,hasTrailingZero:s}}function x(g,a){return u(b.MUL,
g,a)}function z(g,a){assert(1===a.length,"Wrong number of arguments for unary node");return g===b.ADD?a[0]:h(g,a)}function u(b,a,d){assert(1<a.length,"Too few argument for binary node");var c=[];forEach(a,function(a){d&&a.op===b?c=c.concat(a.args):c.push(a)});return h(b,c)}function m(b){q=Pa;Pa=W;q===W&&(q=A.start(b))}function v(b,a){var d=q;if(d!==b){var c=String.fromCharCode(b),d=d?String.fromCharCode(d):"EOS";assert(!1,e(1001,[c,d]))}m(a)}function w(){var g,a;switch(a=q){case 65:case 97:case H:var c=
[A.lexeme()];m();(f=q)===L?(m({oneCharToken:!0}),c.push(w())):!d()||(f=q)!==I&&f!==D||(m(),z(l[f],[g]));g=h(b.VAR,c);break;case ga:g=t(A.lexeme());m();!d()||(f=q)!==I&&f!==D||(m(),g=z(l[f],[g]));break;case X:case Y:v(a);g=J();b.option("allowInterval")?v(c=q===M?M:N):v(c=a===X?M:N);g.lbrk=a;g.rbrk=c;!b.option("allowInterval")||2!==g.args.length||a!==X&&a!==Y||c!==M&&c!==N?g.op===b.COMMA&&(g.op=b.LIST):g.op=b.INTERVAL;break;case ha:g=s();break;case Qa:m();a=s();c=[];for(c.push(Ra());q===O;)m(),c.push(Ra());
c=h(l[O],c);v(ia);s();0<=a.args[0].indexOf("matrix")?g=h(b.MATRIX,[c]):assert(!1,"Unrecognized LaTeX name");break;case B:v(B);g=Z();v(B);g=z(b.ABS,[g]);break;case $:m();g=s();a=s();g=h(b.FRAC,[g,a]);g.isFraction=!0;break;case ja:m();a=s();c=s();g=z(b.FACT,[a]);a=u(b.POW,[u(b.MUL,[z(b.FACT,[c]),z(b.FACT,[u(b.ADD,[a,ka(c)])])]),C]);g=u(b.MUL,[g,a]);g.isBinomial=!0;break;case la:m();switch(q){case Y:v(Y);g=J();v(N);a=s();g=h(b.POW,[a,h(b.POW,[g,C])]);break;case ha:a=s();g=h(b.POW,[a,h(b.POW,[h(b.NUM,
["2"]),C])]);break;default:assert(!1,e(1001,["{ or (",String.fromCharCode(q)]))}break;case ma:m();g=s();g=h(b.VEC,[g]);break;case na:case oa:case pa:m();for(var f,c=[];q===K;)m({oneCharToken:!0}),c.push(E());1===c.length&&c[0].op===b.NUM&&"-1"===c[0].args[0]?(g="arc"+l[a],c=[]):g=l[a];c.unshift(h(g,[w()]));return 1<c.length?h(b.POW,c):c[0];case qa:case ra:case sa:case ta:case ua:case va:m();for(c=[];q===K;)m({oneCharToken:!0}),c.push(E());c.unshift(h(l[a],[w()]));return 1<c.length?h(b.POW,c):c[0];
case wa:return m(),h(b.LOG,[h(b.VAR,["e"]),w()]);case xa:return m(),h(b.LOG,[h(b.NUM,["10"]),w()]);case ya:return m(),c=[],q===L?(m({oneCharToken:!0}),c.push(w())):c.push(h(b.VAR,["e"])),c.push(w()),h(b.LOG,c);case za:return m(),c=[],v(L),c.push(w()),c.push(w()),h(l[a],c);case Aa:case Ba:case Ca:return m(),c=[],q===L&&(m({oneCharToken:!0}),c.push(w()),v(K,{oneCharToken:!0}),c.push(w())),c.push(J()),h(l[a],c);case Da:return m(),h(b.EXISTS,[P()]);case Ea:return m(),h(b.FORALL,[J()]);case Fa:return m(),
h(b.EXP,[Z()]);case Sa:return m(),h(b.M,[Ga()]);case Ha:return m(),h(b.FORMAT,[s()]);default:assert(!1,e(1006,[A.lexeme()])),g=void 0}return g}function Ra(){var b=[];for(b.push(P());q===Q;)m(),b.push(P());return h(l[Q],b)}function s(){v(ha);var b=J();v(Ta);return b}function Ia(){var g;var a;for(g=[w()];(a=q)===K;){m({oneCharToken:!0});var c;c=g[0];c=c.op!==b.VAR?!1:(c=b.env[c.args[0]])&&c.name?!0:!1;!(c||d()&&g[0].op===b.VAR)||(a=q)!==I&&a!==D?(a=E(),a.op===b.VAR&&"\\circ"===a.args[0]?g=[x([g[0],
h(b.VAR,["\\degree"])])]:g.push(a)):(m(),g.push(z(l[a],[ab])))}g=1<g.length?h(b.POW,g):g[0];switch(q){case Ua:m();g=h(b.PERCENT,[g]);break;case Va:m();g=h(b.FACT,[g]);break;case H:"\\atomic"===A.lexeme()?(m(),a=s(),c=s(),assert(g.op===b.VAR),g.args.push(a),g=h(b.POW,[g,c])):"\\polyatomic"===A.lexeme()&&(m(),a=s(),c=s(),assert(g.op===b.VAR),g.args.push(c),g=h(b.POW,[g,a]))}return g}function E(){var b,a;switch(b=q){case I:m();a=Ia();break;case D:m();a=ka(Ia());break;case R:m();a=E();a=h(l[b],[a]);break;
case K:m({oneCharToken:!0});a=E();a=h(l[b],[a]);break;default:a=Ia()}return a}function Wa(){for(var a=[E()];q===L;)m({oneCharToken:!0}),a.push(E());return 1<a.length?h(b.SUBSCRIPT,a):a[0]}function Xa(){for(var a=Wa();q===Ja;)m(),a=h(b.FRAC,[a,Wa()]),a.isFraction=!0;return a}function Ga(){var a,c,f=!1,e=[];c=Xa();for(e=c.op!==b.MUL||c.isBinomial?[c]:c.args;(a=q)&&!Ya(a)&&!Ka(a)&&a!==aa&&a!==ba&&a!==Ta&&a!==M&&a!==N&&a!==S&&a!==T&&a!==B&&a!==O&&a!==Q&&a!==ia;){f=!1;if(a===U||a===ca||a===Ja)m(),f=!0;
c=Xa();a===ca&&(c=h(b.POW,[c,C]));var k;if(k=d())if(k=a===X)k=e[e.length-1],assert(!0,"Internal error in 'isVar()'"),k=k.op!==b.VAR?!1:void 0===k?!0:"M"===k.args[0];if(k)e.pop(),c=z(b.M,[c]);else{if(k=!f)if(k=0<e.length)k=[e[e.length-1],c],k=k[0].op===b.NUM&&"integer"===k[0].numberFormat&&k[1].op===b.FRAC&&k[1].args[0].op===b.NUM&&"integer"===k[1].args[0].numberFormat&&k[1].args[1].op===b.NUM&&"integer"===k[1].args[1].numberFormat?!0:!1;if(k)a=e.pop(),La(a)&&(c=u(b.MUL,[C,c])),c=u(b.ADD,[a,c]),c.isMixedFraction=
!0;else{if(k=a===U)if(k=0<e.length)f&&(k=[e[e.length-1],c],1===k.length?f=k[0].op===b.NUM&&(1===k[0].args[0].length||1===k[0].args[0].indexOf(r()))||k[0].op===b.POW&&k[0].args[0].op===b.NUM&&"10"===k[0].args[0].args[0]&&"integer"===k[0].args[1].numberFormat?!0:!1:2===k.length?(f=k[0],k=k[1],f=f.op!==b.NUM||1!==f.args[0].length&&1!==f.args[0].indexOf(r())||k.op!==b.POW||k.args[0].op!==b.NUM||"10"!==k.args[0].args[0]||"integer"!==k.args[1].numberFormat?!1:!0):f=void 0),k=f;k&&(a=e.pop(),La(a)&&(c=u(b.MUL,
[C,c])),c=u(b.MUL,[a,c]),c.isScientific=!0)}}c.op!==b.MUL||c.isScientific||c.isBinomial?e.push(c):e=e.concat(c.args)}if(1<e.length){if(a=d())a:{a=e[1];if(a.op===b.VAR)a=a.args[0];else if(a.op===b.POW)a=a.args[0].args[0];else{a=!1;break a}a=(a=b.env[a])&&a.mass?!0:!1}return a?e[0].op===b.NUM?(a=e.shift(),x([a,u(b.ADD,e)])):u(b.ADD,e):c=x(e)}return e[0]}function La(c){if("number"===typeof c)return 0>c;if(1===c.args.length)return c.op===a.SUB&&0<c.args[0].args[0]||c.op===b.NUM&&0>+c.args[0];if(2===c.args.length)return c.op===
a.MUL&&La(c.args[0])}function ka(a){return"number"===typeof a?-a:a.op===b.NUM?"-"===a.args[0].charAt(0)?z(b.SUB,[a]):t("-"+a.args[0]):a.op===b.MUL?(a.args.unshift(C),a):x([C,a])}function Ya(b){return b===I||b===D||b===R}function Z(){for(var a=Ga(),c;Ya(c=q);){m();var d=Ga();switch(c){case R:a=u(b.PM,[a,d]);break;case D:d=ka(d);default:a=u(b.ADD,[a,d],!0)}}return a}function Ka(b){return b===T||b===da||b===ea||b===fa||b===Ma||b===Na||b===Oa}function Za(){for(var a=q,c=Ka(a)?h(b.VAR,["_"]):Z(),d=[];Ka(a=
q);){m();var e=0===q?h(b.VAR,["_"]):Z(),c=h(l[a],[c,e]);d.push(c);c=e}return 0===d.length?c:1===d.length?d[0]:h(b.COMMA,d)}function P(){for(var a=q===ba?h(b.VAR,["_"]):Za(),c;(c=q)===ba||c===S;){m();var d=0===q?h(b.VAR,["_"]):Za(),a=h(l[c],[a,d])}return a}function J(){for(var b=P(),a=[b];q===aa;)m(),a.push(P());return 1<a.length?h(l[aa],a):b}var W=0,I=43,K=94,L=95,oa=261,ua=264,va=265,$=256,Ja=47,ba=61,wa=263,ha=123,B=124,Y=91,X=40,U=42,ga=48,R=258,Ta=125,N=93,M=41,ta=262,na=259,la=257,D=45,pa=260,
H=97,aa=44,xa=267,ya=268,T=270,da=271,ea=272,fa=273,Da=274,Ma=275,Ea=276,za=277,Fa=278,Na=279,Aa=280,Ba=281,Ca=282,Ua=37,Sa=283,S=284,Va=33,ja=285,O=286,Q=287,Qa=288,ia=289,Oa=58,ma=290,qa=291,ra=292,sa=293,ca=294,Ha=295,q=W,Pa=W,l={};l[Ja]=a.FRAC;l[$]=a.FRAC;l[la]=a.SQRT;l[ma]=a.VEC;l[I]=a.ADD;l[D]=a.SUB;l[R]=a.PM;l[K]=a.POW;l[U]=a.MUL;l[ca]=a.DIV;l[na]=a.SIN;l[oa]=a.COS;l[pa]=a.TAN;l[qa]=a.ARCSIN;l[ra]=a.ARCCOS;l[sa]=a.ARCTAN;l[ta]=a.SEC;l[ua]=a.COT;l[va]=a.CSC;l[wa]=a.LN;l[xa]=a.LG;l[ya]=a.LOG;
l[ba]=a.EQL;l[aa]=a.COMMA;l[269]=a.TEXT;l[T]=a.LT;l[da]=a.LE;l[ea]=a.GT;l[fa]=a.GE;l[Da]=a.EXISTS;l[Ma]=a.IN;l[Ea]=a.FORALL;l[za]=a.LIM;l[Fa]=a.EXP;l[Na]=a.TO;l[Aa]=a.SUM;l[Ba]=a.INT;l[Ca]=a.PROD;l[Sa]=a.M;l[S]=a.RIGHTARROW;l[Va]=a.FACT;l[ja]=a.BINOM;l[O]=a.ROW;l[Q]=a.COL;l[Oa]=a.COLON;l[Ha]=a.FORMAT;var ab=t("1"),C=t("-1"),A=function(a){function d(a){return 65<=a&&90>=a||97<=a&&122>=a}function f(a){return 48<=a&&57>=a}function l(b){var c=String.fromCharCode(b);for(h+=c;d(b)||39===b;){b=a.charCodeAt(k++);
var c=String.fromCharCode(b),e=h+c;if(!some(q,function(a){return 0===a.indexOf(e)}))break;h+=c}for(;39===b;)b=a.charCodeAt(k++),c=String.fromCharCode(b),h+=c;k--;return H}var k=0,h="",m={"\\cdot":U,"\\times":U,"\\div":ca,"\\dfrac":$,"\\frac":$,"\\sqrt":la,"\\vec":ma,"\\pm":R,"\\sin":na,"\\cos":oa,"\\tan":pa,"\\sec":ta,"\\cot":ua,"\\csc":va,"\\arcsin":qa,"\\arccos":ra,"\\arctan":sa,"\\ln":wa,"\\lg":xa,"\\log":ya,"\\left":null,"\\right":null,"\\big":null,"\\Big":null,"\\bigg":null,"\\Bigg":null,"\\ ":null,
"\\quad":null,"\\qquad":null,"\\text":269,"\\textrm":269,"\\textit":269,"\\textbf":269,"\\lt":T,"\\le":da,"\\gt":ea,"\\ge":fa,"\\exists":Da,"\\in":Ma,"\\forall":Ea,"\\lim":za,"\\exp":Fa,"\\to":Na,"\\sum":Aa,"\\int":Ba,"\\prod":Ca,"\\%":Ua,"\\rightarrow":S,"\\binom":ja,"\\begin":Qa,"\\end":ia,"\\colon":Oa,"\\vert":B,"\\lvert":B,"\\rvert":B,"\\mid":B,"\\format":Ha},q=keys(c),s;return{start:function(c){c||(c={});var n;for(h="";k<a.length;)switch(n=a.charCodeAt(k++)){case 32:case 9:case 10:case 13:continue;
case 38:if(0===a.substring(k).indexOf("nbsp;")){k+=5;continue}return Q;case 92:h+=String.fromCharCode(n);if(92===a.charCodeAt(k))return k++,O;n=a.charCodeAt(k++);if(36===n)h=String.fromCharCode(n);else if(37===n)h+=String.fromCharCode(n);else if(0<=[32,58,59,44,33].indexOf(n))h="\\ ";else{for(;d(n);)h+=String.fromCharCode(n),n=a.charCodeAt(k++);k--}n=m[h];if(void 0===n)n=H;else if(269===n){for(n=a.charCodeAt(k++);123!==n;)n=a.charCodeAt(k++);h="";for(n=a.charCodeAt(k++);125!==n;)n=String.fromCharCode(n),
"&"===n&&0===a.substring(k).indexOf("nbsp;")?k+=5:" "!==n&&"\t"!==n&&(h+=n),n=a.charCodeAt(k++);n=b.option("ignoreText")?null:H}if(null!==n)return n;h="";continue;case 45:if(62===a.charCodeAt(k))return k++,S;case 33:case 37:case 40:case 41:case 42:case 43:case 44:case 47:case 58:case 61:case 91:case 93:case 94:case 95:case 123:case 124:case 125:return h+=String.fromCharCode(n),n;case 36:return h+=String.fromCharCode(n),H;case 60:return 61===a.charCodeAt(k)?(k++,da):T;case 62:return 61===a.charCodeAt(k)?
(k++,fa):ea;default:if(d(n)||39===n)return l(n);if(String.fromCharCode(n)===r()||f(n)){if(c.oneCharToken)return h+=String.fromCharCode(n),ga;for(c=n;f(c)||r()===String.fromCharCode(c)||(s=p(String.fromCharCode(c),s))&&f(a.charCodeAt(k+1));)h+=String.fromCharCode(c),c=a.charCodeAt(k++),92===c&&32===a.charCodeAt(k)&&(c=32,k++);k--;return ga}assert(!1,e(1004,[String.fromCharCode(n),n]));return 0}return 0},lexeme:function(){return h},pos:function(){return k}}}(f);return{expr:function(){if(q=A.start(void 0)){var a=
J();assert(!q,e(1003,[A.pos(),A.lexeme()]));return a}return t("dummy")}}};return b}();
