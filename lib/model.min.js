var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString),forEach=function(a,e,d){if(Array.prototype.forEach)return a.forEach(e);a=toObject(a);var p=splitString&&"[object String]"==_toString(a)?a.split(""):a,q=-1,m=p.length>>>0;if("[object Function]"!=_toString(e))throw new TypeError;for(;++q<m;)q in p&&e.call(d,p[q],q,a)},filter=function(a,e,d){if(Array.prototype.filter)return a.filter(e);var p=toObject(a);a=splitString&&"[object String]"==_toString(a)?a.split(""):p;var q=
a.length>>>0,m=[],b;if("[object Function]"!=_toString(e))throw new TypeError(e+" is not a function");for(var f=0;f<q;f++)f in a&&(b=a[f],e.call(d,b,f,p)&&m.push(b));return m},every=function(a,e,d){if(Array.prototype.every)return a.every(e,d);var p=toObject(a);a=splitString&&"[object String]"==_toString(a)?a.split(""):p;var q=a.length>>>0;if("[object Function]"!=_toString(e))throw new TypeError(e+" is not a function");for(var m=0;m<q;m++)if(m in a&&!e.call(d,a[m],m,p))return!1;return!0},some=function(a,
e,d){if(Array.prototype.some)return a.some(e,d);var p=toObject(a);a=splitString&&"[object String]"==_toString(a)?a.split(""):p;var q=a.length>>>0;if("[object Function]"!=_toString(e))throw new TypeError(e+" is not a function");for(var m=0;m<q;m++)if(m in a&&e.call(d,a[m],m,p))return!0;return!1},indexOf=function(a,e){var d=arguments[2];if(Array.prototype.indexOf)return a.indexOf(e,d);var p=splitString&&"[object String]"==_toString(a)?a.split(""):toObject(a),q=p.length>>>0;if(!q)return-1;var m=0;2<
arguments.length&&(m=toInteger(d));for(m=0<=m?m:Math.max(0,q+m);m<q;m++)if(m in p&&p[m]===e)return m;return-1},keys=function(a){if(Object.keys)return Object.keys(a);var e=!0,d="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),p=d.length,q;for(q in{toString:null})e=!1;if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on a non-object");q=[];for(var m in a)owns(a,m)&&q.push(m);if(e)for(e=0;e<p;e++)m=
d[e],owns(a,m)&&q.push(m);return q},toObject=function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return Object(a)},prototypeOfObject=Object.prototype,_toString=function(a){return prototypeOfObject.toString.apply(a)},owns=function(a,e){return prototypeOfObject.hasOwnProperty.call(a,e)},create=function(a){if(Object.create)return Object.create(a);var e=function(){};if(1!=arguments.length)throw Error("Object.create implementation only accepts one parameter.");e.prototype=a;return new e};var ASSERT=!0,assert=function(){return ASSERT?function(a,e){void 0===e&&(e="failed!");if(!a){var d=Error(e);d.location=Assert.location;throw d;}}:function(){}}(),message=function(a,e){var d=Assert.messages[a];e&&forEach(e,function(a,e){d=d.replace("%"+(e+1),a)});return a+": "+d},reserveCodeRange=function(a,e,d){assert(a<=e,"Invalid code range");var p=every(Assert.reservedCodes,function(d){return e<d.first||a>d.last});assert(p,"Conflicting request for error code range");Assert.reservedCodes.push({first:a,
last:e,name:d})},setLocation=function(a){Assert.location=a},clearLocation=function(){Assert.location=null},setCounter=function(a,e){Assert.count=a;Assert.countMessage=e?e:"ERROR count exceeded"},checkCounter=function(){var a=Assert.count;"number"!==typeof a||isNaN(a)?assert(!1,"ERROR counter not set"):assert(Assert.count--,Assert.countMessage)},Assert={assert:assert,message:message,messages:{},reserveCodeRange:reserveCodeRange,reservedCodes:[],setLocation:setLocation,clearLocation:clearLocation,setCounter:setCounter,
checkCounter:checkCounter};var TRACE=!1,global=this,trace=function(){return TRACE?function(a){if(global.console&&global.console.log)console.log(a);else if(global.print)print(a);else throw"No trace function defined!";}:function(){}}();var Ast=function(){function a(){}function e(a){void 0===a&&(a=this);return a.op&&a.args}var d=["unused"],p={};a.clearPool=function(){d=["unused"];p={}};a.prototype.create=function m(a,e){var d=m(this);"string"===typeof a?(d.op=a,d.args=e instanceof Array?e:[]):null!==a&&"object"===typeof a&&forEach(keys(a),function(e,f){d[e]=a[e]});return d};a.prototype.arg=function(a){if(!e(this))throw"Malformed node";this.args.push(a);return this};a.prototype.argN=function(a,b){if(!e(this))throw"Malformed node";
if(void 0===b)return this.args[a];this.args[a]=b;return this};a.prototype.args=function(a){if(!e(this))throw"Malformed node";if(void 0===a)return this.args;this.args=a;return this};a.prototype.isNode=e;a.intern=a.prototype.intern=function b(f){this instanceof a&&void 0===f&&e(this)&&(f=this);assert("object"===typeof f,"node not an object");for(var C=f.op,t=f.args.length,V="",I=[],x=0;x<t;x++)V="string"===typeof f.args[x]?V+(I[x]=f.args[x]):V+(I[x]=b(f.args[x]));f=C+t+V;t=p[f];void 0===t&&(d.push({op:C,
args:I}),t=d.length-1,p[f]=t);return t};a.prototype.node=function(a){a=JSON.parse(JSON.stringify(d[a]));for(var e=0;e<a.args.length;e++)"string"!==typeof a.args[e]&&(a.args[e]=this.node(a.args[e]));return a};a.dumpAll=a.prototype.dumpAll=function(){var b="";forEach(d,function(e,d){b+="\n"+d+": "+a.dump(e)});return b};a.dump=a.prototype.dump=function f(a){if("string"===typeof a)var e='"'+a+'"';else if("number"===typeof a)e=a;else{for(var e='{ op: "'+a.op+'", args: [ ',d=0;d<a.args.length;d++)0<d&&
(e+=" , "),e+=f(a.args[d]);e+=" ] }"}return e};return a}();var Model=function(){function a(){}function e(){return!!a.env.Au}a.fn={};a.env=p={};var d=[],p={};a.pushEnv=function(b){d.push(p);a.env=p=b};a.popEnv=function(){assert(0<d.length,"Empty envStack");a.env=p=d.pop()};var q=a.prototype=new Ast;Assert.reserveCodeRange(1E3,1999,"model");Assert.messages[1001]="Invalid syntax. '%1' expected, '%2' found.";Assert.messages[1002]="Only one decimal separator can be specified.";Assert.messages[1003]="Extra characters in input at position: %1, lexeme: %2.";Assert.messages[1004]=
"Invalid character '%1' (%2) in input.";Assert.messages[1005]="Misplaced thousands separator.";Assert.messages[1006]="Unexpected expression: %1";Assert.messages[1007]="Unexpected character: '%1' in '%2'.";Assert.messages[1008]="The same character '%1' is being used as a thousands and decimal separators.";var m=Assert.message;a.create=q.create=function I(b,e){assert(b,"Model.create() called with invalid argument "+b);if(b instanceof a)return e&&(b.location=e),b;var f;if(b instanceof Array)return f=
[],forEach(b,function(a){f.push(I(a,e))}),f;if(!(this instanceof a))return(new a).create(b,e);f=I(this);f.location=e;b="string"===typeof b?t(b,a.env).expr():JSON.parse(JSON.stringify(b));forEach(keys(a.fn),function(b,e){q.hasOwnProperty(b)||(q[b]=function(){var e=a.fn[b];if(1<arguments.length&&arguments[1]instanceof a)return e.apply(this,arguments);for(var f=[this],d=0;d<arguments.length;d++)f.push(arguments[d]);return e.apply(this,f)})});forEach(keys(b),function(a,e){f[a]=b[a]});return f};a.fromLaTex=
q.fromLaTex=function(b){assert("string"===typeof b,"Model.prototype.fromLaTex");return this?this.create(b):a.create(b)};q.toLaTex=function(a){return C(a)};var b={ADD:"+",SUB:"-",MUL:"times",DIV:"div",FRAC:"frac",EQL:"=",ATAN2:"atan2",SQRT:"sqrt",VEC:"vec",PM:"pm",SIN:"sin",COS:"cos",TAN:"tan",SEC:"sec",COT:"cot",CSC:"csc",ARCSIN:"arcsin",ARCCOS:"arccos",ARCTAN:"arctan",LOG:"log",LN:"ln",LG:"lg",VAR:"var",NUM:"num",CST:"cst",COMMA:",",POW:"^",SUBSCRIPT:"_",ABS:"abs",PAREN:"()",HIGHLIGHT:"hi",LT:"lt",
LE:"le",GT:"gt",GE:"ge",INTERVAL:"interval",LIST:"list",EXISTS:"exists",IN:"in",FORALL:"forall",LIM:"lim",EXP:"exp",TO:"to",SUM:"sum",INT:"int",PROD:"prod",PERCENT:"%",M:"M",RIGHTARROW:"->",FACT:"fact",BINOM:"binom",ROW:"row",COL:"col",COLON:"colon",MATRIX:"matrix",FORMAT:"format",OVERSET:"overset",UNDERSET:"underset",OVERLINE:"overline"};forEach(keys(b),function(e,f){a[e]=b[e]});var f={};f[b.ADD]="+";f[b.SUB]="-";f[b.MUL]="\\times";f[b.DIV]="\\div";f[b.FRAC]="\\frac";f[b.EQL]="=";f[b.ATAN2]="\\atan2";
f[b.POW]="^";f[b.SUBSCRIPT]="_";f[b.PM]="\\pm";f[b.SIN]="\\sin";f[b.COS]="\\cos";f[b.TAN]="\\tan";f[b.ARCSIN]="\\arcsin";f[b.ARCCOS]="\\arccos";f[b.ARCTAN]="\\arctan";f[b.SEC]="\\sec";f[b.COT]="\\cot";f[b.CSC]="\\csc";f[b.LN]="\\ln";f[b.COMMA]=",";f[b.M]="\\M";f[b.BINOM]="\\binom";f[b.COLON]="\\colon";a.fold=function x(a,e){var g=[],f;forEach(a.args,function(a){g.push(x(a,e))});a.args=g;switch(a.op){case b.VAR:if(f=e[a.args[0]])a=f}return a};var C=function cb(a){var e="";if("string"===typeof a)e=
a;else if("number"===typeof a)e=a;else if("object"===typeof a){for(var d=[],m=0;m<a.args.length;m++)d[m]=cb(a.args[m]);switch(a.op){case b.VAR:case b.CST:case b.NUM:e=a.args[0];break;case b.SUB:e=1===a.args.length?f[a.op]+" "+d[0]:d[0]+" "+f[a.op]+" "+d[1];break;case b.DIV:case b.PM:case b.EQL:e=d[0]+" "+f[a.op]+" "+d[1];break;case b.POW:var m=a.args[0],p=a.args[1];if(m.args&&2===m.args.length||p.args&&2===p.args.length)if(m.op===b.ADD||m.op===b.SUB||m.op===b.MUL||m.op===b.DIV||m.op===b.SQRT)d[0]=
" ("+d[0]+") ";e="{"+d[0]+"^{"+d[1]+"}}";break;case b.SIN:case b.COS:case b.TAN:case b.ARCSIN:case b.ARCCOS:case b.ARCTAN:case b.SEC:case b.COT:case b.CSC:case b.LN:case b.M:e="{"+f[a.op]+"{"+d[0]+"}}";break;case b.FRAC:e="\\dfrac{"+d[0]+"}{"+d[1]+"}";break;case b.BINOM:e="\\binom{"+d[0]+"}{"+d[1]+"}";break;case b.SQRT:switch(d.length){case 1:e="\\sqrt{"+d[0]+"}";break;case 2:e="\\sqrt["+d[0]+"]{"+d[1]+"}"}break;case b.VEC:e="\\vec{"+d[0]+"}";break;case b.MUL:var q,e="";forEach(a.args,function(m,
p){if(m.args&&2<=m.args.length){if(m.op===b.ADD||m.op===b.SUB)d[p]="("+d[p]+")";0!==p&&"number"===typeof m&&(e+=f[a.op]+" ")}else m.op===b.PAREN||m.op===b.VAR||m.op===b.CST||"number"===typeof q&&"number"!==typeof m||0!==p&&(e+=" "+f[a.op]+" ");e+=d[p];q=m});break;case b.ADD:case b.COMMA:forEach(d,function(b,d){e=0===d?b:e+" "+f[a.op]+" "+b});break;default:assert(!1,"unimplemented eval operator")}}else assert(!1,"invalid expression type");return e},t=function(d,f){function g(a,b){return{op:a,args:b}}
function p(c,b){if(a.option("allowThousandsSeparator")){var e=a.option("setThousandsSeparator");if(!e)return","===c?c:"";if(c===b||!b&&0<=e.indexOf(c))return c}return""}function q(){var c=a.option("setDecimalSeparator"),b=a.option("setThousandsSeparator");if("string"===typeof c)return assert(1===c.length,m(1002)),b instanceof Array&&0<=b.indexOf(c)?(assert(!1,m(2008,[c])),"."):c;b instanceof Array&&0<=b.indexOf(".")&&assert(!1,m(2008));return"."}function t(c,b,e){var d=a.option("ignoreTrailingZeros"),
k=c.toString(),f="",l,g,n,h=!1,W="integer",r,s;"."===c&&assert(!1,m(1004,[c,c.charCodeAt(0)]));for(c=0;c<k.length;c++)p(l=k.charAt(c))?(h&&g!==c-4&&assert(!1,m(1005)),g=c,h=!0):(l===q()?(l=".","decimal"===W&&assert(!1,m(1007,[q(),f+q()])),W="decimal",h&&g!==c-4&&assert(!1,m(1005)),h=!1,"0"===f&&(r=!0),n=c-1):"decimal"===W&&"0"!==l&&(n=c),f+=l);h&&g!==c-4&&assert(!1,m(1005));void 0!==n&&(n+1<f.length&&(s=!0),d&&(f=f.substring(0,n+1)));f=new BigDecimal(f);b&&(b=option("decimalPlaces"),!e||f.scale()>
b)&&(f=f.setScale(b,BigDecimal.ROUND_HALF_UP));return{op:a.NUM,args:[String(f)],hasThousandsSeparator:h,numberFormat:W,hasLeadingZero:r,hasTrailingZero:s}}function L(c,b){return u(a.MUL,c,b)}function y(c,b){assert(1===b.length,"Wrong number of arguments for unary node");return c===a.ADD?b[0]:g(c,b)}function u(a,b,e){assert(1<b.length,"Too few argument for binary node");var d=[];forEach(b,function(b){e&&b.op===a?d=d.concat(b.args):d.push(b)});return g(a,d)}function n(a){h=Ta;Ta=X;h===X&&(h=w.start(a))}
function s(a,b){var e=h;if(e!==a){var d=String.fromCharCode(a),e=e?String.fromCharCode(e):"EOS";assert(!1,m(1001,[d,e]))}n(b)}function v(){var c,b;switch(b=h){case 65:case 97:case D:c=[w.lexeme()];n();(f=h)===E&&(n({oneCharToken:!0}),c.push(v()));c=g(a.VAR,c);e()&&((f=h)===F||f===z?(n(),c=y(l[f],[c])):h===G&&(s(G),s(Y)));break;case ja:c=t(w.lexeme());n();!e()||(f=h)!==F&&f!==z||(n(),c=y(l[f],[c]));break;case Z:case $:var d;s(b);c=J();a.option("allowInterval")?s(d=h===M?M:N):s(d=b===Z?M:N);c.lbrk=
b;c.rbrk=d;!a.option("allowInterval")||2!==c.args.length||b!==Z&&b!==$||d!==M&&d!==N?c.op===a.COMMA&&(c.op=a.LIST):c.op=a.INTERVAL;break;case G:c=r();break;case Ua:n();b=r();d=[];for(d.push(C());h===O;)n(),d.push(C());d=g(l[O],d);s(ka);r();0<=b.args[0].indexOf("matrix")?c=g(a.MATRIX,[d]):assert(!1,"Unrecognized LaTeX name");break;case A:s(A);b=aa();s(A);c=y(a.ABS,[b]);break;case ba:n();c=r();d=r();c=g(a.FRAC,[c,d]);c.isFraction=!0;break;case la:n();c=r();d=r();b=y(a.FACT,[c]);c=u(a.POW,[u(a.MUL,[y(a.FACT,
[d]),y(a.FACT,[u(a.ADD,[c,ma(d)])])]),B]);c=u(a.MUL,[b,c]);c.isBinomial=!0;break;case na:n();switch(h){case $:s($);b=J();s(N);c=r();c=g(a.POW,[c,g(a.POW,[b,B])]);break;case G:c=r();c=g(a.POW,[c,g(a.POW,[g(a.NUM,["2"]),B])]);break;default:assert(!1,m(1001,["{ or (",String.fromCharCode(h)]))}break;case oa:n();b=r();c=g(a.VEC,[b]);break;case pa:case qa:case ra:n();var f;for(c=[];h===K;)n({oneCharToken:!0}),c.push(H());1===c.length&&c[0].op===a.NUM&&"-1"===c[0].args[0]?(b="arc"+l[b],c=[]):b=l[b];c.unshift(g(b,
[v()]));return 1<c.length?g(a.POW,c):c[0];case sa:case ta:case ua:case va:case wa:case xa:n();for(c=[];h===K;)n({oneCharToken:!0}),c.push(H());c.unshift(g(l[b],[v()]));return 1<c.length?g(a.POW,c):c[0];case ya:return n(),g(a.LOG,[g(a.VAR,["e"]),v()]);case za:return n(),g(a.LOG,[g(a.NUM,["10"]),v()]);case Aa:return n(),c=[],h===E?(n({oneCharToken:!0}),c.push(v())):c.push(g(a.VAR,["e"])),c.push(v()),g(a.LOG,c);case Ba:return n(),c=[],s(E),c.push(v()),c.push(v()),g(l[b],c);case Ca:case Da:case Ea:return n(),
c=[],h===E&&(n({oneCharToken:!0}),c.push(v()),s(K,{oneCharToken:!0}),c.push(v())),c.push(J()),g(l[b],c);case Fa:return n(),g(a.EXISTS,[P()]);case Ga:return n(),g(a.FORALL,[J()]);case Ha:return n(),g(a.EXP,[aa()]);case Va:return n(),g(a.M,[Ia()]);case Ja:return n(),g(a.FORMAT,[r()]);case Ka:return n(),g(a.OVERSLINE,[r()]);case La:case Ma:return n(),c=r(),d=r(),d.args.push(g(l[b],[c])),d;default:assert(!1,m(1006,[w.lexeme()])),c=void 0}return c}function C(){var a=[];for(a.push(P());h===Q;)n(),a.push(P());
return g(l[Q],a)}function r(){s(G);var a=J();s(Y);return a}function ca(){var c;var b;for(c=[v()];(b=h)===K;){n({oneCharToken:!0});var d;d=c[0];d=d.op!==a.VAR?!1:(d=a.env[d.args[0]])&&d.name?!0:!1;!(d||e()&&c[0].op===a.VAR)||(b=h)!==F&&b!==z?(b=H(),b.op===a.VAR&&"\\circ"===b.args[0]?c=[L([c[0],g(a.VAR,["\\degree"])])]:c.push(b)):(n(),c.push(y(l[b],[Wa])))}c=1<c.length?g(a.POW,c):c[0];switch(h){case Xa:n();c=g(a.PERCENT,[c]);break;case Ya:n();c=g(a.FACT,[c]);break;case D:"\\atomic"===w.lexeme()?(n(),
b=r(),d=r(),assert(c.op===a.VAR),c.args.push(b),c=g(a.POW,[c,d])):"\\polyatomic"===w.lexeme()&&(n(),b=r(),d=r(),assert(c.op===a.VAR),c.args.push(d),c=g(a.POW,[c,b]))}return c}function H(){var c,b;switch(c=h){case F:n();b=ca();break;case z:n();b=ma(ca());break;case R:n();b=H();b=g(l[c],[b]);break;case E:case K:var e=l[c];n({oneCharToken:!0});(c=h)===F||c===z?(n(),b=Wa):b=H();b=g(e,[b]);break;default:c===D&&"$"===w.lexeme()?(n(),b=h?L([g(a.VAR,["$"]),ca()]):g(a.VAR,["$"])):b=ca()}return b}function Za(){var c=
[H()];h===E&&(n({oneCharToken:!0}),c.push(H()),e()&&h===G&&(s(G),s(Y)));return 1<c.length?g(a.SUBSCRIPT,c):c[0]}function $a(){for(var c=Za();h===Na;)n(),c=g(a.FRAC,[c,Za()]),c.isFraction=!0;return c}function Ia(){var c,b,d=!1,f=[];b=$a();for(f=b.op!==a.MUL||b.isBinomial?[b]:b.args;(c=h)&&!ab(c)&&!Oa(c)&&c!==da&&c!==ea&&c!==Y&&c!==M&&c!==N&&c!==S&&c!==T&&c!==A&&c!==O&&c!==Q&&c!==ka;){d=!1;if(c===U||c===fa||c===Na)n(),d=!0;b=$a();c===fa&&(b=g(a.POW,[b,B]));var k;if(k=e())if(k=c===Z)k=f[f.length-1],
assert(!0,"Internal error in 'isVar()'"),k=k.op!==a.VAR?!1:void 0===k?!0:"M"===k.args[0];if(k)f.pop(),b=y(a.M,[b]);else{if(k=!d)if(k=0<f.length)k=[f[f.length-1],b],k=k[0].lbrk||k[1].lbrk||k[0].op!==a.NUM||k[1].op!==a.FRAC||"integer"!==k[0].numberFormat||k[1].args[0].op!==a.NUM||"integer"!==k[1].args[0].numberFormat||k[1].args[1].op!==a.NUM||"integer"!==k[1].args[1].numberFormat?!1:!0;if(k)c=f.pop(),Pa(c)&&(b=u(a.MUL,[B,b])),b=u(a.ADD,[c,b]),b.isMixedFraction=!0;else{if(k=c===U)if(k=0<f.length)d&&
(k=[f[f.length-1],b],1===k.length?d=k[0].op===a.NUM&&(1===k[0].args[0].length||1===k[0].args[0].indexOf(q()))||k[0].op===a.POW&&k[0].args[0].op===a.NUM&&"10"===k[0].args[0].args[0]&&"integer"===k[0].args[1].numberFormat?!0:!1:2===k.length?(d=k[0],k=k[1],d=d.op!==a.NUM||1!==d.args[0].length&&1!==d.args[0].indexOf(q())||k.op!==a.POW||k.args[0].op!==a.NUM||"10"!==k.args[0].args[0]||"integer"!==k.args[1].numberFormat?!1:!0):d=void 0),k=d;k&&(c=f.pop(),Pa(c)&&(b=u(a.MUL,[B,b])),b=u(a.MUL,[c,b]),b.isScientific=
!0)}}b.op!==a.MUL||b.isScientific||b.isBinomial?f.push(b):f=f.concat(b.args)}if(1<f.length){if(c=e())a:{c=f[1];if(c.op===a.VAR)c=c.args[0];else if(c.op===a.POW)c=c.args[0].args[0];else{c=!1;break a}c=(c=a.env[c])&&c.mass?!0:!1}return c?f[0].op===a.NUM?(c=f.shift(),L([c,u(a.ADD,f)])):u(a.ADD,f):b=L(f)}return f[0]}function Pa(c){if("number"===typeof c)return 0>c;if(1===c.args.length)return c.op===b.SUB&&0<c.args[0].args[0]||c.op===a.NUM&&0>+c.args[0];if(2===c.args.length)return c.op===b.MUL&&Pa(c.args[0])}
function ma(b){return"number"===typeof b?-b:b.op===a.NUM?"-"===b.args[0].charAt(0)?y(a.SUB,[b]):t("-"+b.args[0]):b.op===a.MUL?(b.args.unshift(B),b):L([B,b])}function ab(a){return a===F||a===z||a===R}function aa(){for(var b=Ia(),e;ab(e=h);){n();var d=Ia();switch(e){case R:b=u(a.PM,[b,d]);break;case z:d=ma(d);default:b=u(a.ADD,[b,d],!0)}}return b}function Oa(a){return a===T||a===ga||a===ha||a===ia||a===Qa||a===Ra||a===Sa}function bb(){for(var b=h,e=Oa(b)?g(a.VAR,["_"]):aa(),d=[];Oa(b=h);){n();var f=
0===h?g(a.VAR,["_"]):aa(),e=g(l[b],[e,f]);d.push(e);e=f}return 0===d.length?e:1===d.length?d[0]:g(a.COMMA,d)}function P(){for(var b=h===ea?g(a.VAR,["_"]):bb(),e;(e=h)===ea||e===S;){n();var d=0===h?g(a.VAR,["_"]):bb(),b=g(l[e],[b,d])}return b}function J(){for(var a=P(),b=[a];h===da;)n(),b.push(P());return 1<b.length?g(l[da],b):a}var X=0,F=43,K=94,E=95,qa=261,wa=264,xa=265,ba=256,Na=47,ea=61,ya=263,G=123,A=124,$=91,Z=40,U=42,ja=48,R=258,Y=125,N=93,M=41,va=262,pa=259,na=257,z=45,ra=260,D=97,da=44,za=
267,Aa=268,T=270,ga=271,ha=272,ia=273,Fa=274,Qa=275,Ga=276,Ba=277,Ha=278,Ra=279,Ca=280,Da=281,Ea=282,Xa=37,Va=283,S=284,Ya=33,la=285,O=286,Q=287,Ua=288,ka=289,Sa=58,oa=290,sa=291,ta=292,ua=293,fa=294,Ja=295,Ka=296,La=297,Ma=298,h=X,Ta=X,l={};l[Na]=b.FRAC;l[ba]=b.FRAC;l[na]=b.SQRT;l[oa]=b.VEC;l[F]=b.ADD;l[z]=b.SUB;l[R]=b.PM;l[K]=b.POW;l[E]=b.SUBSCRIPT;l[U]=b.MUL;l[fa]=b.DIV;l[pa]=b.SIN;l[qa]=b.COS;l[ra]=b.TAN;l[sa]=b.ARCSIN;l[ta]=b.ARCCOS;l[ua]=b.ARCTAN;l[va]=b.SEC;l[wa]=b.COT;l[xa]=b.CSC;l[ya]=b.LN;
l[za]=b.LG;l[Aa]=b.LOG;l[ea]=b.EQL;l[da]=b.COMMA;l[269]=b.TEXT;l[T]=b.LT;l[ga]=b.LE;l[ha]=b.GT;l[ia]=b.GE;l[Fa]=b.EXISTS;l[Qa]=b.IN;l[Ga]=b.FORALL;l[Ba]=b.LIM;l[Ha]=b.EXP;l[Ra]=b.TO;l[Ca]=b.SUM;l[Da]=b.INT;l[Ea]=b.PROD;l[Va]=b.M;l[S]=b.RIGHTARROW;l[Ya]=b.FACT;l[la]=b.BINOM;l[O]=b.ROW;l[Q]=b.COL;l[Sa]=b.COLON;l[Ja]=b.FORMAT;l[Ka]=b.OVERLINE;l[La]=b.OVERSET;l[Ma]=b.UNDERSET;var Wa=t("1"),B=t("-1"),w=function(b){function e(a){return 65<=a&&90>=a||97<=a&&122>=a}function d(a){return 48<=a&&57>=a}function l(a){var d=
String.fromCharCode(a);for(g+=d;e(a)||39===a;){a=b.charCodeAt(k++);var d=String.fromCharCode(a),f=g+d;if(!some(h,function(a){return 0===a.indexOf(f)}))break;g+=d}for(;39===a;)a=b.charCodeAt(k++),d=String.fromCharCode(a),g+=d;k--;return D}var k=0,g="",n={"\\cdot":U,"\\times":U,"\\div":fa,"\\dfrac":ba,"\\frac":ba,"\\sqrt":na,"\\vec":oa,"\\pm":R,"\\sin":pa,"\\cos":qa,"\\tan":ra,"\\sec":va,"\\cot":wa,"\\csc":xa,"\\arcsin":sa,"\\arccos":ta,"\\arctan":ua,"\\ln":ya,"\\lg":za,"\\log":Aa,"\\left":null,"\\right":null,
"\\big":null,"\\Big":null,"\\bigg":null,"\\Bigg":null,"\\ ":null,"\\quad":null,"\\qquad":null,"\\text":269,"\\textrm":269,"\\textit":269,"\\textbf":269,"\\lt":T,"\\le":ga,"\\gt":ha,"\\ge":ia,"\\exists":Fa,"\\in":Qa,"\\forall":Ga,"\\lim":Ba,"\\exp":Ha,"\\to":Ra,"\\sum":Ca,"\\int":Da,"\\prod":Ea,"\\%":Xa,"\\rightarrow":S,"\\binom":la,"\\begin":Ua,"\\end":ka,"\\colon":Sa,"\\vert":A,"\\lvert":A,"\\rvert":A,"\\mid":A,"\\format":Ja,"\\overline":Ka,"\\overset":La,"\\underset":Ma},h=keys(f),r;return{start:function(f){f||
(f={});var h;for(g="";k<b.length;)switch(h=b.charCodeAt(k++)){case 32:case 9:case 10:case 13:continue;case 38:if(0===b.substring(k).indexOf("nbsp;")){k+=5;continue}return Q;case 92:g+=String.fromCharCode(h);if(92===b.charCodeAt(k))return k++,O;h=b.charCodeAt(k++);if(36===h)g=String.fromCharCode(h);else if(37===h)g+=String.fromCharCode(h);else if(0<=[32,58,59,44,33].indexOf(h))g="\\ ";else{for(;e(h);)g+=String.fromCharCode(h),h=b.charCodeAt(k++);k--}h=n[g];if(void 0===h)h=D;else if(269===h){for(h=
b.charCodeAt(k++);123!==h;)h=b.charCodeAt(k++);g="";for(h=b.charCodeAt(k++);125!==h;)h=String.fromCharCode(h),"&"===h&&0===b.substring(k).indexOf("nbsp;")?k+=5:" "!==h&&"\t"!==h&&(g+=h),h=b.charCodeAt(k++);h=a.option("ignoreText")?null:D}if(null!==h)return h;g="";continue;case 45:if(62===b.charCodeAt(k))return k++,S;case 33:case 37:case 40:case 41:case 42:case 43:case 44:case 47:case 58:case 61:case 91:case 93:case 94:case 95:case 123:case 124:case 125:return g+=String.fromCharCode(h),h;case 36:return g+=
String.fromCharCode(h),D;case 60:return 61===b.charCodeAt(k)?(k++,ga):T;case 62:return 61===b.charCodeAt(k)?(k++,ia):ha;default:if(e(h)||39===h)return l(h);if(String.fromCharCode(h)===q()||d(h)){if(f.oneCharToken)return g+=String.fromCharCode(h),ja;for(f=h;d(f)||q()===String.fromCharCode(f)||(r=p(String.fromCharCode(f),r))&&d(b.charCodeAt(k+1));)g+=String.fromCharCode(f),f=b.charCodeAt(k++),92===f&&32===b.charCodeAt(k)&&(f=32,k++);k--;return ja}assert(!1,m(1004,[String.fromCharCode(h),h]));return 0}return 0},
lexeme:function(){return g},pos:function(){return k}}}(d);return{expr:function(){if(h=w.start(void 0)){var a=J();assert(!h,m(1003,[w.pos(),w.lexeme()]));return a}return t("dummy")}}};return a}();
