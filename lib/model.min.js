var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString),forEach=function(a,c,d){if(Array.prototype.forEach)return a.forEach(c);a=toObject(a);var k=splitString&&"[object String]"==_toString(a)?a.split(""):a,n=-1,h=k.length>>>0;if("[object Function]"!=_toString(c))throw new TypeError;for(;++n<h;)n in k&&c.call(d,k[n],n,a)},filter=function(a,c,d){if(Array.prototype.filter)return a.filter(c);var k=toObject(a);a=splitString&&"[object String]"==_toString(a)?a.split(""):k;var n=
a.length>>>0,h=[],b;if("[object Function]"!=_toString(c))throw new TypeError(c+" is not a function");for(var e=0;e<n;e++)e in a&&(b=a[e],c.call(d,b,e,k)&&h.push(b));return h},every=function(a,c,d){if(Array.prototype.every)return a.every(c,d);var k=toObject(a);a=splitString&&"[object String]"==_toString(a)?a.split(""):k;var n=a.length>>>0;if("[object Function]"!=_toString(c))throw new TypeError(c+" is not a function");for(var h=0;h<n;h++)if(h in a&&!c.call(d,a[h],h,k))return!1;return!0},some=function(a,
c,d){if(Array.prototype.some)return a.some(c,d);var k=toObject(a);a=splitString&&"[object String]"==_toString(a)?a.split(""):k;var n=a.length>>>0;if("[object Function]"!=_toString(c))throw new TypeError(c+" is not a function");for(var h=0;h<n;h++)if(h in a&&c.call(d,a[h],h,k))return!0;return!1},indexOf=function(a,c){var d=arguments[2];if(Array.prototype.indexOf)return a.indexOf(c,d);var k=splitString&&"[object String]"==_toString(a)?a.split(""):toObject(a),n=k.length>>>0;if(!n)return-1;var h=0;2<
arguments.length&&(h=toInteger(d));for(h=0<=h?h:Math.max(0,n+h);h<n;h++)if(h in k&&k[h]===c)return h;return-1},keys=function(a){if(Object.keys)return Object.keys(a);var c=!0,d="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),k=d.length,n;for(n in{toString:null})c=!1;if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on a non-object");n=[];for(var h in a)owns(a,h)&&n.push(h);if(c)for(c=0;c<k;c++)h=
d[c],owns(a,h)&&n.push(h);return n},toObject=function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return Object(a)},prototypeOfObject=Object.prototype,_toString=function(a){return prototypeOfObject.toString.apply(a)},owns=function(a,c){return prototypeOfObject.hasOwnProperty.call(a,c)},create=function(a){if(Object.create)return Object.create(a);var c=function(){};if(1!=arguments.length)throw Error("Object.create implementation only accepts one parameter.");c.prototype=a;return new c};var ASSERT=!0,assert=function(){return ASSERT?function(a,c){void 0===c&&(c="failed!");if(!a){var d=Error(c);d.location=Assert.location;throw d;}}:function(){}}(),message=function(a,c){var d=Assert.messages[a];c&&forEach(c,function(a,c){d=d.replace("%"+(c+1),a)});return a+": "+d},reserveCodeRange=function(a,c,d){assert(a<=c,"Invalid code range");var k=every(Assert.reservedCodes,function(d){return c<d.first||a>d.last});assert(k,"Conflicting request for error code range");Assert.reservedCodes.push({first:a,
last:c,name:d})},setLocation=function(a){Assert.location=a},clearLocation=function(){Assert.location=null},setCounter=function(a,c){Assert.count=a;Assert.countMessage=c?c:"ERROR count exceeded"},checkCounter=function(){var a=Assert.count;"number"!==typeof a||isNaN(a)?assert(!1,"ERROR counter not set"):assert(Assert.count--,Assert.countMessage)},Assert={assert:assert,message:message,messages:{},reserveCodeRange:reserveCodeRange,reservedCodes:[],setLocation:setLocation,clearLocation:clearLocation,setCounter:setCounter,
checkCounter:checkCounter};var TRACE=!1,global=this,trace=function(){return TRACE?function(a){if(global.console&&global.console.log)console.log(a);else if(global.print)print(a);else throw"No trace function defined!";}:function(){}}();var Ast=function(){function a(){}function c(a){void 0===a&&(a=this);return a.op&&a.args}var d=["unused"],k={};a.clearPool=function(){d=["unused"];k={}};a.prototype.create=function h(a,c){var d=h(this);"string"===typeof a?(d.op=a,d.args=c instanceof Array?c:[]):null!==a&&"object"===typeof a&&forEach(keys(a),function(c,e){d[c]=a[c]});return d};a.prototype.arg=function(a){if(!c(this))throw"Malformed node";this.args.push(a);return this};a.prototype.argN=function(a,b){if(!c(this))throw"Malformed node";
if(void 0===b)return this.args[a];this.args[a]=b;return this};a.prototype.args=function(a){if(!c(this))throw"Malformed node";if(void 0===a)return this.args;this.args=a;return this};a.prototype.isNode=c;a.intern=a.prototype.intern=function b(e){this instanceof a&&void 0===e&&c(this)&&(e=this);assert("object"===typeof e,"node not an object");for(var z=e.op,q=e.args.length,R="",C=[],v=0;v<q;v++)R="string"===typeof e.args[v]?R+(C[v]=e.args[v]):R+(C[v]=b(e.args[v]));e=z+q+R;q=k[e];void 0===q&&(d.push({op:z,
args:C}),q=d.length-1,k[e]=q);return q};a.prototype.node=function(a){a=JSON.parse(JSON.stringify(d[a]));create(a);switch(a.op){case "num":case "str":case "var":break;default:for(var c=0;c<a.args.length;c++)a.args[c]=this.node(a.args[c])}return a};a.dumpAll=a.prototype.dumpAll=function(){var b="";forEach(d,function(c,d){b+="\n"+d+": "+a.dump(c)});return b};a.dump=a.prototype.dump=function e(a){if("string"===typeof a)var c='"'+a+'"';else if("number"===typeof a)c=a;else{for(var c='{ op: "'+a.op+'", args: [ ',
d=0;d<a.args.length;d++)0<d&&(c+=" , "),c+=e(a.args[d]);c+=" ] }"}return c};return a}();var Model=function(){function a(){}function c(){return!!a.env.Au}a.fn={};a.env=k={};var d=[],k={};a.pushEnv=function(b){d.push(k);a.env=k=b};a.popEnv=function(){assert(0<d.length,"Empty envStack");a.env=k=d.pop()};var n=a.prototype=new Ast;Assert.reserveCodeRange(1E3,1999,"model");Assert.messages[1001]="Invalid syntax. '%1' expected, '%2' found.";Assert.messages[1002]="Unused.";Assert.messages[1003]="Extra characters in input at position: %1, lexeme: %2.";Assert.messages[1004]="Invalid character '%1' (%2) in input.";
Assert.messages[1005]="Misplaced thousands separator.";Assert.messages[1006]="Unexpected expression: %1";Assert.messages[1007]="Unexpected character: '%1' in '%2'.";var h=Assert.message;a.create=n.create=function C(b,c){assert(b,"Model.create() called with invalid argument "+b);if(b instanceof a)return c&&(b.location=c),b;var e;if(b instanceof Array)return e=[],forEach(b,function(a){e.push(C(a,c))}),e;if(!(this instanceof a))return(new a).create(b,c);e=C(this);e.location=c;b="string"===typeof b?q(b,
a.env).expr():JSON.parse(JSON.stringify(b));forEach(keys(a.fn),function(b,c){n.hasOwnProperty(b)||(n[b]=function(){var c=a.fn[b];if(1<arguments.length&&arguments[1]instanceof a)return c.apply(this,arguments);for(var e=[this],d=0;d<arguments.length;d++)e.push(arguments[d]);return c.apply(this,e)})});forEach(keys(b),function(a,c){e[a]=b[a]});return e};a.fromLaTex=n.fromLaTex=function(b){assert("string"===typeof b,"Model.prototype.fromLaTex");return this?this.create(b):a.create(b)};n.toLaTex=function(a){return z(a)};
var b={ADD:"+",SUB:"-",MUL:"times",DIV:"div",FRAC:"frac",EQL:"=",ATAN2:"atan2",SQRT:"sqrt",VEC:"vec",PM:"pm",SIN:"sin",COS:"cos",TAN:"tan",SEC:"sec",COT:"cot",CSC:"csc",ARCSIN:"arcsin",ARCCOS:"arccos",ARCTAN:"arctan",LOG:"log",LN:"ln",LG:"lg",VAR:"var",NUM:"num",CST:"cst",COMMA:",",POW:"^",SUBSCRIPT:"_",ABS:"abs",PAREN:"()",HIGHLIGHT:"hi",LT:"lt",LE:"le",GT:"gt",GE:"ge",INTERVAL:"interval",LIST:"list",EXISTS:"exists",IN:"in",FORALL:"forall",LIM:"lim",EXP:"exp",TO:"to",SUM:"sum",INT:"int",PROD:"prod",
PERCENT:"%",M:"M",RIGHTARROW:"->",FACT:"fact",BINOM:"binom",ROW:"row",COL:"col",COLON:"colon",MATRIX:"matrix",FORMAT:"format"};forEach(keys(b),function(c,e){a[c]=b[c]});var e={};e[b.ADD]="+";e[b.SUB]="-";e[b.MUL]="\\times";e[b.DIV]="\\div";e[b.FRAC]="\\frac";e[b.EQL]="=";e[b.ATAN2]="\\atan2";e[b.POW]="^";e[b.SUBSCRIPT]="_";e[b.PM]="\\pm";e[b.SIN]="\\sin";e[b.COS]="\\cos";e[b.TAN]="\\tan";e[b.ARCSIN]="\\arcsin";e[b.ARCCOS]="\\arccos";e[b.ARCTAN]="\\arctan";e[b.SEC]="\\sec";e[b.COT]="\\cot";e[b.CSC]=
"\\csc";e[b.LN]="\\ln";e[b.COMMA]=",";e[b.M]="\\M";e[b.BINOM]="\\binom";e[b.COLON]="\\colon";a.fold=function v(a,c){var l=[],e;forEach(a.args,function(a){l.push(v(a,c))});a.args=l;switch(a.op){case b.VAR:if(e=c[a.args[0]])a=e}return a};var z=function Va(a){var c="";if("string"===typeof a)c=a;else if("number"===typeof a)c=a;else if("object"===typeof a){for(var d=[],h=0;h<a.args.length;h++)d[h]=Va(a.args[h]);switch(a.op){case b.VAR:case b.CST:case b.NUM:c=a.args[0];break;case b.SUB:c=1===a.args.length?
e[a.op]+" "+d[0]:d[0]+" "+e[a.op]+" "+d[1];break;case b.DIV:case b.PM:case b.EQL:c=d[0]+" "+e[a.op]+" "+d[1];break;case b.POW:var h=a.args[0],k=a.args[1];if(h.args&&2===h.args.length||k.args&&2===k.args.length)if(h.op===b.ADD||h.op===b.SUB||h.op===b.MUL||h.op===b.DIV||h.op===b.SQRT)d[0]=" ("+d[0]+") ";c="{"+d[0]+"^{"+d[1]+"}}";break;case b.SIN:case b.COS:case b.TAN:case b.ARCSIN:case b.ARCCOS:case b.ARCTAN:case b.SEC:case b.COT:case b.CSC:case b.LN:case b.M:c="{"+e[a.op]+"{"+d[0]+"}}";break;case b.FRAC:c=
"\\dfrac{"+d[0]+"}{"+d[1]+"}";break;case b.BINOM:c="\\binom{"+d[0]+"}{"+d[1]+"}";break;case b.SQRT:switch(d.length){case 1:c="\\sqrt{"+d[0]+"}";break;case 2:c="\\sqrt["+d[0]+"]{"+d[1]+"}"}break;case b.VEC:c="\\vec{"+d[0]+"}";break;case b.MUL:var n,c="";forEach(a.args,function(h,k){if(h.args&&2<=h.args.length){if(h.op===b.ADD||h.op===b.SUB)d[k]="("+d[k]+")";0!==k&&"number"===typeof h&&(c+=e[a.op]+" ")}else h.op===b.PAREN||h.op===b.VAR||h.op===b.CST||"number"===typeof n&&"number"!==typeof h||0!==k&&
(c+=" "+e[a.op]+" ");c+=d[k];n=h});break;case b.ADD:case b.COMMA:forEach(d,function(b,d){c=0===d?b:c+" "+e[a.op]+" "+b});break;default:assert(!1,"unimplemented eval operator")}}else assert(!1,"invalid expression type");return c},q=function(d,e){function l(a,b){return{op:a,args:b}}function k(g,b,c){var d=a.option("ignoreTrailingZeros"),e=g.toString();g="";var f,S,l,m,n=!1,p="integer",q,r;for(f=0;f<e.length;f++)","===(S=e.charAt(f))?(n&&l!==f-4&&assert(!1,h(1005)),l=f,n=!0):("."===S?("decimal"===p&&
assert(!1,h(1007,[".",g+"."])),p="decimal",n&&l!==f-4&&assert(!1,h(1005)),n=!1,"0"===g&&(q=!0),m=f-1):"decimal"===p&&"0"!==S&&(m=f),g+=S);n&&l!==f-4&&assert(!1,h(1005));void 0!==m&&(m+1<g.length&&(r=!0),d&&(g=g.substring(0,m+1)));g=new BigDecimal(g);b&&(b=option("decimalPlaces"),!c||g.scale()>b)&&(g=g.setScale(b,BigDecimal.ROUND_HALF_UP));return{op:a.NUM,args:[String(g)],hasThousandsSeparator:n,numberFormat:p,hasLeadingZero:q,hasTrailingZero:r}}function n(g,b){return r(a.MUL,g,b)}function q(g,b){assert(1===
b.length,"Wrong number of arguments for unary node");return g===a.ADD?b[0]:l(g,b)}function r(a,b,c){assert(1<b.length,"Too few argument for binary node");var d=[];forEach(b,function(b){c&&b.op===a?d=d.concat(b.args):d.push(b)});return l(a,d)}function m(){p=Ka;Ka=T;p===T&&(p=A.start())}function s(a){var b=p;b!==a&&(a=String.fromCharCode(a),b=b?String.fromCharCode(b):"EOS",assert(!1,h(1001,[a,b])));m()}function t(){var g,b;switch(b=p){case 65:case 97:case G:g=[A.lexeme()];m();p===H&&(m(),g.push(t()));
g=l(a.VAR,g);break;case La:g=k(A.lexeme());m();!c()||(e=p)!==D&&e!==B||(m(),g=q(f[e],[g]));break;case U:case V:var d;s(b);g=E();a.option("allowInterval")?s(d=p===I?I:J):s(d=b===U?I:J);g.lbrk=b;g.rbrk=d;!a.option("allowInterval")||2!==g.args.length||b!==U&&b!==V||d!==I&&d!==J?g.op===a.COMMA&&(g.op=a.LIST):g.op=a.INTERVAL;break;case da:g=u();break;case Ma:m();b=u();d=[];for(d.push(z());p===K;)m(),d.push(z());d=l(f[K],d);s(ea);u();0<=b.args[0].indexOf("matrix")?g=l(a.MATRIX,[d]):assert(!1,"Unrecognized LaTeX name");
break;case x:s(x);g=W();s(x);g=q(a.ABS,[g]);break;case X:m();g=u();b=u();g=l(a.FRAC,[g,b]);g.isFraction=!0;break;case fa:m();b=u();d=u();g=q(a.FACT,[b]);b=r(a.POW,[r(a.MUL,[q(a.FACT,[d]),q(a.FACT,[r(a.ADD,[b,ga(d)])])]),w]);g=r(a.MUL,[g,b]);g.isBinomial=!0;break;case ha:m();switch(p){case V:s(V);g=E();s(J);b=u();g=l(a.POW,[b,g,w]);break;case da:b=u();g=l(a.POW,[b,l(a.NUM,["2"]),w]);break;default:assert(!1,h(1001,["{ or (",String.fromCharCode(p)]))}break;case ia:m();g=u();g=l(a.VEC,[g]);break;case ja:case ka:case la:m();
var e;for(g=[];p===F;)m(),g.push(y());1===g.length&&g[0].op===a.NUM&&"-1"===g[0].args[0]?(b="arc"+f[b],g=[]):b=f[b];g.unshift(l(b,[t()]));return 1<g.length?l(a.POW,g):g[0];case ma:case na:case oa:case pa:case qa:case ra:m();for(g=[];p===F;)m(),g.push(y());g.unshift(l(f[b],[t()]));return 1<g.length?l(a.POW,g):g[0];case sa:return m(),l(a.LOG,[l(a.VAR,["e"]),t()]);case ta:return m(),l(a.LOG,[l(a.NUM,["10"]),t()]);case ua:return m(),g=[],p===H?(m(),g.push(t())):g.push(l(a.VAR,["e"])),g.push(t()),l(a.LOG,
g);case va:return m(),g=[],s(H),g.push(t()),g.push(t()),l(f[b],g);case wa:case xa:case ya:return m(),g=[],p===H&&(m(),g.push(t()),s(F),g.push(t())),g.push(E()),l(f[b],g);case za:return m(),l(a.EXISTS,[L()]);case Aa:return m(),l(a.FORALL,[E()]);case Ba:return m(),l(a.EXP,[W()]);case Na:return m(),l(a.M,[Ca()]);case Da:return m(),l(a.FORMAT,[u()]);default:assert(!1,h(1006,[A.lexeme()])),g=void 0}return g}function z(){var a=[];for(a.push(L());p===M;)m(),a.push(L());return l(f[M],a)}function u(){s(da);
var a=E();s(Oa);return a}function y(){var g,b;switch(g=p){case D:m();b=y();break;case B:m();b=ga(y());break;case N:case F:m();b=y();b=l(f[g],[b]);break;default:for(b=[t()];(g=p)===F;){m();var d;d=b[0];d=d.op!==a.VAR?!1:(d=a.env[d.args[0]])&&d.name?!0:!1;!(d||c()&&Pa(b[0]))||(g=p)!==D&&g!==B?(d=y(),!c()||(g=p)!==D&&g!==B?d.op===a.VAR&&"\\circ"===d.args[0]?b=[n([b[0],l(a.VAR,["\\degree"])])]:b.push(d):(m(),b.push(q(f[g],[d])))):(m(),b.push(q(f[g],[Wa])))}g=1<b.length?l(a.POW,b):b[0];switch(p){case Qa:m();
g=l(a.PERCENT,[g]);break;case Ra:m(),g=l(a.FACT,[g])}b=g}return b}function Sa(){for(var b=[y()];p===H;)m(),b.push(y());return 1<b.length?l(a.SUBSCRIPT,b):b[0]}function Pa(b){return b.op!==a.VAR?!1:(b=a.env[b.args[0]])&&b.mass?!0:!1}function Ca(){var b,d,e=!1,f,h=[];d=Sa();for(h=d.op!==a.MUL||d.isBinomial?[d]:d.args;(b=p)&&!Ta(b)&&!Ea(b)&&b!==Y&&b!==Z&&b!==Oa&&b!==I&&b!==J&&b!==O&&b!==P&&b!==x&&b!==K&&b!==M&&b!==ea;){f=e;e=!1;if(b===Q||b===$||b===Fa)m(),e=!0;d=Sa();b===$?d=l(a.POW,[d,w]):b===Fa&&(b=
h.pop(),d=l(a.FRAC,[b,d]),d.isFraction=!0,e=f);if(f=c())if(f=b===U)f=h[h.length-1],assert(!0,"Internal error in 'isVar()'"),f=f.op!==a.VAR?!1:void 0===f?!0:"M"===f.args[0];if(f)h.pop(),d=q(a.M,[d]);else{if(f=!e)if(f=0<h.length)f=[h[h.length-1],d],f=f[0].op===a.NUM&&f[1].op===a.FRAC&&f[1].args[0].op===a.NUM?!0:!1;if(f)b=h.pop(),Ga(b)&&(d=r(a.MUL,[w,d])),d=r(a.ADD,[b,d]),d.isMixedFraction=!0;else{if(f=b===Q)if(f=0<h.length)if(f=e){var k=[h[h.length-1],d];1===k.length?f=k[0].op===a.NUM&&(1===k[0].args[0].length||
1===k[0].args[0].indexOf("."))||k[0].op===a.POW&&k[0].args[0].op===a.NUM&&"10"===k[0].args[0].args[0]&&"integer"===k[0].args[1].numberFormat?!0:!1:2===k.length?(f=k[0],k=k[1],f=f.op!==a.NUM||1!==f.args[0].length&&1!==f.args[0].indexOf(".")||k.op!==a.POW||k.args[0].op!==a.NUM||"10"!==k.args[0].args[0]||"integer"!==k.args[1].numberFormat?!1:!0):f=void 0}f&&(b=h.pop(),Ga(b)&&(d=r(a.MUL,[w,d])),d=r(a.MUL,[b,d]),d.isScientific=!0)}}d.op!==a.MUL||d.isScientific||d.isBinomial?h.push(d):h=h.concat(d.args)}if(1<
h.length){if(c()&&Pa(h[1]))return h[0].op===a.NUM?(b=h.shift(),n([b,r(a.ADD,h)])):r(a.ADD,h);d=n(h);d.isFraction=void 0;return d}return h[0]}function Ga(g){if("number"===typeof g)return 0>g;if(1===g.args.length)return g.op===b.SUB&&0<g.args[0].args[0]||g.op===a.NUM&&0>+g.args[0];if(2===g.args.length)return g.op===b.MUL&&Ga(g.args[0])}function ga(b){return"number"===typeof b?-b:b.op===a.NUM&&"1"===b.args[0]?w:b.op===a.MUL?(b.args.unshift(w),b):n([w,b])}function Ta(a){return a===D||a===B||a===N}function W(){for(var b=
Ca(),d;Ta(d=p);){m();var c=Ca();switch(d){case N:b=r(a.PM,[b,c]);break;case B:c=ga(c);default:b=r(a.ADD,[b,c],!0)}}return b}function Ea(a){return a===P||a===aa||a===ba||a===ca||a===Ha||a===Ia||a===Ja}function Ua(){for(var b=p,d=Ea(b)?l(a.VAR,["_"]):W();Ea(b=p);){m();var c=0===p?l(a.VAR,["_"]):W();switch(b){default:d=l(f[b],[d,c])}}return d}function L(){for(var b=p===Z?l(a.VAR,["_"]):Ua(),d;(d=p)===Z||d===O;){m();var c=0===p?l(a.VAR,["_"]):Ua(),b=l(f[d],[b,c])}return b}function E(){for(var a=L(),b=
[a];p===Y;)m(),b.push(L());return 1<b.length?l(f[Y],b):a}var T=0,D=43,F=94,H=95,ka=261,qa=264,ra=265,X=256,Fa=47,Z=61,sa=263,da=123,x=124,V=91,U=40,Q=42,La=48,N=258,Oa=125,J=93,I=41,pa=262,ja=259,ha=257,B=45,la=260,G=97,Y=44,ta=267,ua=268,P=270,aa=271,ba=272,ca=273,za=274,Ha=275,Aa=276,va=277,Ba=278,Ia=279,wa=280,xa=281,ya=282,Qa=37,Na=283,O=284,Ra=33,fa=285,K=286,M=287,Ma=288,ea=289,Ja=58,ia=290,ma=291,na=292,oa=293,$=294,Da=295,p=T,Ka=T,f={};f[Fa]=b.FRAC;f[X]=b.FRAC;f[ha]=b.SQRT;f[ia]=b.VEC;f[D]=
b.ADD;f[B]=b.SUB;f[N]=b.PM;f[F]=b.POW;f[Q]=b.MUL;f[$]=b.DIV;f[ja]=b.SIN;f[ka]=b.COS;f[la]=b.TAN;f[ma]=b.ARCSIN;f[na]=b.ARCCOS;f[oa]=b.ARCTAN;f[pa]=b.SEC;f[qa]=b.COT;f[ra]=b.CSC;f[sa]=b.LN;f[ta]=b.LG;f[ua]=b.LOG;f[Z]=b.EQL;f[Y]=b.COMMA;f[269]=b.TEXT;f[P]=b.LT;f[aa]=b.LE;f[ba]=b.GT;f[ca]=b.GE;f[za]=b.EXISTS;f[Ha]=b.IN;f[Aa]=b.FORALL;f[va]=b.LIM;f[Ba]=b.EXP;f[Ia]=b.TO;f[wa]=b.SUM;f[xa]=b.INT;f[ya]=b.PROD;f[Na]=b.M;f[O]=b.RIGHTARROW;f[Ra]=b.FACT;f[fa]=b.BINOM;f[K]=b.ROW;f[M]=b.COL;f[Ja]=b.COLON;f[Da]=
b.FORMAT;var Wa=k("1"),w=k("-1"),A=function(b){function d(a){var h=String.fromCharCode(a);for(f+=h;97<=a&&122>=a||65<=a&&90>=a||39===a;){a=b.charCodeAt(c++);var h=String.fromCharCode(a),e=f+h;if(!some(l,function(a){return 0===a.indexOf(e)}))break;f+=h}for(;39===a;)a=b.charCodeAt(c++),h=String.fromCharCode(a),f+=h;c--;return G}var c=0,f="",k={"\\cdot":Q,"\\times":Q,"\\div":$,"\\dfrac":X,"\\frac":X,"\\sqrt":ha,"\\vec":ia,"\\pm":N,"\\sin":ja,"\\cos":ka,"\\tan":la,"\\sec":pa,"\\cot":qa,"\\csc":ra,"\\arcsin":ma,
"\\arccos":na,"\\arctan":oa,"\\ln":sa,"\\lg":ta,"\\log":ua,"\\left":null,"\\right":null,"\\big":null,"\\Big":null,"\\bigg":null,"\\Bigg":null,"\\ ":null,"\\quad":null,"\\qquad":null,"\\text":269,"\\textrm":269,"\\textit":269,"\\textbf":269,"\\lt":P,"\\le":aa,"\\gt":ba,"\\ge":ca,"\\exists":za,"\\in":Ha,"\\forall":Aa,"\\lim":va,"\\exp":Ba,"\\to":Ia,"\\sum":wa,"\\int":xa,"\\prod":ya,"\\%":Qa,"\\rightarrow":O,"\\binom":fa,"\\begin":Ma,"\\end":ea,"\\colon":Ja,"\\vert":x,"\\lvert":x,"\\rvert":x,"\\mid":x,
"\\format":Da},l=keys(e);return{start:function(){var e;for(f="";c<b.length;)switch(e=b.charCodeAt(c++)){case 32:case 9:case 10:case 13:continue;case 38:if(0===b.substring(c).indexOf("nbsp;")){c+=5;continue}return M;case 92:f+=String.fromCharCode(e);if(92===b.charCodeAt(c))return c++,K;e=b.charCodeAt(c++);if(36===e)f=String.fromCharCode(e);else if(37===e)f+=String.fromCharCode(e);else if(0<=[32,58,59,44,33].indexOf(e))f="\\ ";else{for(;97<=e&&122>=e||65<=e&&90>=e;)f+=String.fromCharCode(e),e=b.charCodeAt(c++);
c--}e=k[f];if(void 0===e)e=G;else if(269===e){for(e=b.charCodeAt(c++);123!==e;)e=b.charCodeAt(c++);f="";for(e=b.charCodeAt(c++);125!==e;)e=String.fromCharCode(e),"&"===e&&0===b.substring(c).indexOf("nbsp;")?c+=5:" "!==e&&"\t"!==e&&(f+=e),e=b.charCodeAt(c++);e=a.option("ignoreText")?null:G}if(null!==e)return e;f="";continue;case 45:if(62===b.charCodeAt(c))return c++,O;case 33:case 37:case 40:case 41:case 42:case 43:case 44:case 47:case 58:case 61:case 91:case 93:case 94:case 95:case 123:case 124:case 125:return f+=
String.fromCharCode(e),e;case 36:return f+=String.fromCharCode(e),G;case 60:return 61===b.charCodeAt(c)?(c++,aa):P;case 62:return 61===b.charCodeAt(c)?(c++,ca):ba;default:if(65<=e&&90>=e||97<=e&&122>=e||39===e)return d(e);if(46===e||48<=e&&57>=e){for(;48<=e&&57>=e||46===e||a.option("allowThousandsSeparator")&&44===e;)f+=String.fromCharCode(e),e=b.charCodeAt(c++);c--;return La}assert(!1,h(1004,[String.fromCharCode(e),e]));return 0}return 0},lexeme:function(){return f},pos:function(){return c}}}(d);
return{expr:function(){if(p=A.start()){var a=E();assert(!p,h(1003,[A.pos(),A.lexeme()]));return a}return k("dummy")}}};return a}();
