var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString),forEach=function(a,e,d){if(Array.prototype.forEach)return a.forEach(e);a=toObject(a);var p=splitString&&"[object String]"==_toString(a)?a.split(""):a,q=-1,f=p.length>>>0;if("[object Function]"!=_toString(e))throw new TypeError;for(;++q<f;)q in p&&e.call(d,p[q],q,a)},filter=function(a,e,d){if(Array.prototype.filter)return a.filter(e);var p=toObject(a);a=splitString&&"[object String]"==_toString(a)?a.split(""):p;var q=
a.length>>>0,f=[],b;if("[object Function]"!=_toString(e))throw new TypeError(e+" is not a function");for(var g=0;g<q;g++)g in a&&(b=a[g],e.call(d,b,g,p)&&f.push(b));return f},every=function(a,e,d){if(Array.prototype.every)return a.every(e,d);var p=toObject(a);a=splitString&&"[object String]"==_toString(a)?a.split(""):p;var q=a.length>>>0;if("[object Function]"!=_toString(e))throw new TypeError(e+" is not a function");for(var f=0;f<q;f++)if(f in a&&!e.call(d,a[f],f,p))return!1;return!0},some=function(a,
e,d){if(Array.prototype.some)return a.some(e,d);var p=toObject(a);a=splitString&&"[object String]"==_toString(a)?a.split(""):p;var q=a.length>>>0;if("[object Function]"!=_toString(e))throw new TypeError(e+" is not a function");for(var f=0;f<q;f++)if(f in a&&e.call(d,a[f],f,p))return!0;return!1},indexOf=function(a,e){var d=arguments[2];if(Array.prototype.indexOf)return a.indexOf(e,d);var p=splitString&&"[object String]"==_toString(a)?a.split(""):toObject(a),q=p.length>>>0;if(!q)return-1;var f=0;2<
arguments.length&&(f=toInteger(d));for(f=0<=f?f:Math.max(0,q+f);f<q;f++)if(f in p&&p[f]===e)return f;return-1},keys=function(a){if(Object.keys)return Object.keys(a);var e=!0,d="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),p=d.length,q;for(q in{toString:null})e=!1;if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on a non-object");q=[];for(var f in a)owns(a,f)&&q.push(f);if(e)for(e=0;e<p;e++)f=
d[e],owns(a,f)&&q.push(f);return q},toObject=function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return Object(a)},prototypeOfObject=Object.prototype,_toString=function(a){return prototypeOfObject.toString.apply(a)},owns=function(a,e){return prototypeOfObject.hasOwnProperty.call(a,e)},create=function(a){if(Object.create)return Object.create(a);var e=function(){};if(1!=arguments.length)throw Error("Object.create implementation only accepts one parameter.");e.prototype=a;return new e};var ASSERT=!0,assert=function(){return ASSERT?function(a,e){void 0===e&&(e="failed!");if(!a){var d=Error(e);d.location=Assert.location;throw d;}}:function(){}}(),message=function(a,e){var d=Assert.messages[a];e&&forEach(e,function(a,e){d=d.replace("%"+(e+1),a)});return a+": "+d},reserveCodeRange=function(a,e,d){assert(a<=e,"Invalid code range");var p=every(Assert.reservedCodes,function(d){return e<d.first||a>d.last});assert(p,"Conflicting request for error code range");Assert.reservedCodes.push({first:a,
last:e,name:d})},setLocation=function(a){Assert.location=a},clearLocation=function(){Assert.location=null},setCounter=function(a,e){Assert.count=a;Assert.countMessage=e?e:"ERROR count exceeded"},checkCounter=function(){var a=Assert.count;"number"!==typeof a||isNaN(a)?assert(!1,"ERROR counter not set"):assert(Assert.count--,Assert.countMessage)},Assert={assert:assert,message:message,messages:{},reserveCodeRange:reserveCodeRange,reservedCodes:[],setLocation:setLocation,clearLocation:clearLocation,setCounter:setCounter,
checkCounter:checkCounter};var TRACE=!1,global=this,trace=function(){return TRACE?function(a){if(global.console&&global.console.log)console.log(a);else if(global.print)print(a);else throw"No trace function defined!";}:function(){}}();var Ast=function(){function a(){}function e(a){void 0===a&&(a=this);return a.op&&a.args}var d=["unused"],p={};a.clearPool=function(){d=["unused"];p={}};a.prototype.create=function f(a,g){var e=f(this);"string"===typeof a?(e.op=a,e.args=g instanceof Array?g:[]):null!==a&&"object"===typeof a&&forEach(keys(a),function(g,f){e[g]=a[g]});return e};a.prototype.arg=function(a){if(!e(this))throw"Malformed node";this.args.push(a);return this};a.prototype.argN=function(a,b){if(!e(this))throw"Malformed node";
if(void 0===b)return this.args[a];this.args[a]=b;return this};a.prototype.args=function(a){if(!e(this))throw"Malformed node";if(void 0===a)return this.args;this.args=a;return this};a.prototype.isNode=e;a.intern=a.prototype.intern=function b(g){this instanceof a&&void 0===g&&e(this)&&(g=this);assert("object"===typeof g,"node not an object");for(var C=g.op,t=g.args.length,V="",H=[],x=0;x<t;x++)V="string"===typeof g.args[x]?V+(H[x]=g.args[x]):V+(H[x]=b(g.args[x]));g=C+t+V;t=p[g];void 0===t&&(d.push({op:C,
args:H}),t=d.length-1,p[g]=t);return t};a.prototype.node=function(a){a=JSON.parse(JSON.stringify(d[a]));for(var e=0;e<a.args.length;e++)"string"!==typeof a.args[e]&&(a.args[e]=this.node(a.args[e]));return a};a.dumpAll=a.prototype.dumpAll=function(){var b="";forEach(d,function(e,d){b+="\n"+d+": "+a.dump(e)});return b};a.dump=a.prototype.dump=function g(a){if("string"===typeof a)var e='"'+a+'"';else if("number"===typeof a)e=a;else{for(var e='{ op: "'+a.op+'", args: [ ',d=0;d<a.args.length;d++)0<d&&
(e+=" , "),e+=g(a.args[d]);e+=" ] }"}return e};return a}();var Model=function(){function a(){}function e(){return!!a.env.Au}a.fn={};a.env=p={};var d=[],p={};a.pushEnv=function(b){d.push(p);a.env=p=b};a.popEnv=function(){assert(0<d.length,"Empty envStack");a.env=p=d.pop()};var q=a.prototype=new Ast;Assert.reserveCodeRange(1E3,1999,"model");Assert.messages[1001]="Invalid syntax. '%1' expected, '%2' found.";Assert.messages[1002]="Only one decimal separator can be specified.";Assert.messages[1003]="Extra characters in input at position: %1, lexeme: %2.";Assert.messages[1004]=
"Invalid character '%1' (%2) in input.";Assert.messages[1005]="Misplaced thousands separator.";Assert.messages[1006]="Unexpected expression: %1";Assert.messages[1007]="Unexpected character: '%1' in '%2'.";Assert.messages[1008]="The same character '%1' is being used as a thousands and decimal separators.";var f=Assert.message;a.create=q.create=function H(b,e){assert(b,"Model.create() called with invalid argument "+b);if(b instanceof a)return e&&(b.location=e),b;var g;if(b instanceof Array)return g=
[],forEach(b,function(a){g.push(H(a,e))}),g;if(!(this instanceof a))return(new a).create(b,e);g=H(this);g.location=e;b="string"===typeof b?t(b,a.env).expr():JSON.parse(JSON.stringify(b));forEach(keys(a.fn),function(b,e){q.hasOwnProperty(b)||(q[b]=function(){var e=a.fn[b];if(1<arguments.length&&arguments[1]instanceof a)return e.apply(this,arguments);for(var g=[this],f=0;f<arguments.length;f++)g.push(arguments[f]);return e.apply(this,g)})});forEach(keys(b),function(a,e){g[a]=b[a]});return g};a.fromLaTex=
q.fromLaTex=function(b){assert("string"===typeof b,"Model.prototype.fromLaTex");return this?this.create(b):a.create(b)};q.toLaTex=function(a){return C(a)};var b={ADD:"+",SUB:"-",MUL:"times",DIV:"div",FRAC:"frac",EQL:"=",ATAN2:"atan2",SQRT:"sqrt",VEC:"vec",PM:"pm",SIN:"sin",COS:"cos",TAN:"tan",SEC:"sec",COT:"cot",CSC:"csc",ARCSIN:"arcsin",ARCCOS:"arccos",ARCTAN:"arctan",LOG:"log",LN:"ln",LG:"lg",VAR:"var",NUM:"num",CST:"cst",COMMA:",",POW:"^",SUBSCRIPT:"_",ABS:"abs",PAREN:"()",HIGHLIGHT:"hi",LT:"lt",
LE:"le",GT:"gt",GE:"ge",INTERVAL:"interval",LIST:"list",EXISTS:"exists",IN:"in",FORALL:"forall",LIM:"lim",EXP:"exp",TO:"to",SUM:"sum",INT:"int",PROD:"prod",PERCENT:"%",M:"M",RIGHTARROW:"->",FACT:"fact",BINOM:"binom",ROW:"row",COL:"col",COLON:"colon",MATRIX:"matrix",FORMAT:"format"};forEach(keys(b),function(e,g){a[e]=b[e]});var g={};g[b.ADD]="+";g[b.SUB]="-";g[b.MUL]="\\times";g[b.DIV]="\\div";g[b.FRAC]="\\frac";g[b.EQL]="=";g[b.ATAN2]="\\atan2";g[b.POW]="^";g[b.SUBSCRIPT]="_";g[b.PM]="\\pm";g[b.SIN]=
"\\sin";g[b.COS]="\\cos";g[b.TAN]="\\tan";g[b.ARCSIN]="\\arcsin";g[b.ARCCOS]="\\arccos";g[b.ARCTAN]="\\arctan";g[b.SEC]="\\sec";g[b.COT]="\\cot";g[b.CSC]="\\csc";g[b.LN]="\\ln";g[b.COMMA]=",";g[b.M]="\\M";g[b.BINOM]="\\binom";g[b.COLON]="\\colon";a.fold=function x(a,e){var h=[],g;forEach(a.args,function(a){h.push(x(a,e))});a.args=h;switch(a.op){case b.VAR:if(g=e[a.args[0]])a=g}return a};var C=function $a(a){var e="";if("string"===typeof a)e=a;else if("number"===typeof a)e=a;else if("object"===typeof a){for(var f=
[],d=0;d<a.args.length;d++)f[d]=$a(a.args[d]);switch(a.op){case b.VAR:case b.CST:case b.NUM:e=a.args[0];break;case b.SUB:e=1===a.args.length?g[a.op]+" "+f[0]:f[0]+" "+g[a.op]+" "+f[1];break;case b.DIV:case b.PM:case b.EQL:e=f[0]+" "+g[a.op]+" "+f[1];break;case b.POW:var d=a.args[0],p=a.args[1];if(d.args&&2===d.args.length||p.args&&2===p.args.length)if(d.op===b.ADD||d.op===b.SUB||d.op===b.MUL||d.op===b.DIV||d.op===b.SQRT)f[0]=" ("+f[0]+") ";e="{"+f[0]+"^{"+f[1]+"}}";break;case b.SIN:case b.COS:case b.TAN:case b.ARCSIN:case b.ARCCOS:case b.ARCTAN:case b.SEC:case b.COT:case b.CSC:case b.LN:case b.M:e=
"{"+g[a.op]+"{"+f[0]+"}}";break;case b.FRAC:e="\\dfrac{"+f[0]+"}{"+f[1]+"}";break;case b.BINOM:e="\\binom{"+f[0]+"}{"+f[1]+"}";break;case b.SQRT:switch(f.length){case 1:e="\\sqrt{"+f[0]+"}";break;case 2:e="\\sqrt["+f[0]+"]{"+f[1]+"}"}break;case b.VEC:e="\\vec{"+f[0]+"}";break;case b.MUL:var q,e="";forEach(a.args,function(d,p){if(d.args&&2<=d.args.length){if(d.op===b.ADD||d.op===b.SUB)f[p]="("+f[p]+")";0!==p&&"number"===typeof d&&(e+=g[a.op]+" ")}else d.op===b.PAREN||d.op===b.VAR||d.op===b.CST||"number"===
typeof q&&"number"!==typeof d||0!==p&&(e+=" "+g[a.op]+" ");e+=f[p];q=d});break;case b.ADD:case b.COMMA:forEach(f,function(b,f){e=0===f?b:e+" "+g[a.op]+" "+b});break;default:assert(!1,"unimplemented eval operator")}}else assert(!1,"invalid expression type");return e},t=function(g,d){function h(a,b){return{op:a,args:b}}function p(c,b){if(a.option("allowThousandsSeparator")){var e=a.option("setThousandsSeparator");if(!e)return","===c?c:"";if(c===b||!b&&0<=e.indexOf(c))return c}return""}function q(){var c=
a.option("setDecimalSeparator"),b=a.option("setThousandsSeparator");if("string"===typeof c)return assert(1===c.length,f(1002)),b instanceof Array&&0<=b.indexOf(c)?(assert(!1,f(2008,[c])),"."):c;b instanceof Array&&0<=b.indexOf(".")&&assert(!1,f(2008));return"."}function t(c,b,e){var g=a.option("ignoreTrailingZeros"),Pa=c.toString(),d="",l,h,k,n=!1,m="integer",s,r;"."===c&&assert(!1,f(1004,[c,c.charCodeAt(0)]));for(c=0;c<Pa.length;c++)p(l=Pa.charAt(c))?(n&&h!==c-4&&assert(!1,f(1005)),h=c,n=!0):(l===
q()?(l=".","decimal"===m&&assert(!1,f(1007,[q(),d+q()])),m="decimal",n&&h!==c-4&&assert(!1,f(1005)),n=!1,"0"===d&&(s=!0),k=c-1):"decimal"===m&&"0"!==l&&(k=c),d+=l);n&&h!==c-4&&assert(!1,f(1005));void 0!==k&&(k+1<d.length&&(r=!0),g&&(d=d.substring(0,k+1)));d=new BigDecimal(d);b&&(b=option("decimalPlaces"),!e||d.scale()>b)&&(d=d.setScale(b,BigDecimal.ROUND_HALF_UP));return{op:a.NUM,args:[String(d)],hasThousandsSeparator:n,numberFormat:m,hasLeadingZero:s,hasTrailingZero:r}}function K(c,b){return u(a.MUL,
c,b)}function y(c,b){assert(1===b.length,"Wrong number of arguments for unary node");return c===a.ADD?b[0]:h(c,b)}function u(a,b,e){assert(1<b.length,"Too few argument for binary node");var d=[];forEach(b,function(b){e&&b.op===a?d=d.concat(b.args):d.push(b)});return h(a,d)}function k(a){n=Qa;Qa=W;n===W&&(n=w.start(a))}function r(a,b){var e=n;if(e!==a){var d=String.fromCharCode(a),e=e?String.fromCharCode(e):"EOS";assert(!1,f(1001,[d,e]))}k(b)}function v(){var c,b;switch(b=n){case 65:case 97:case D:c=
[w.lexeme()];k();(g=n)===E&&(k({oneCharToken:!0}),c.push(v()));c=h(a.VAR,c);e()&&((g=n)===F||g===z?(k(),c=y(l[g],[c])):n===L&&(r(L),r(ha)));break;case ia:c=t(w.lexeme());k();!e()||(g=n)!==F&&g!==z||(k(),c=y(l[g],[c]));break;case X:case Y:var d;r(b);c=I();a.option("allowInterval")?r(d=n===M?M:N):r(d=b===X?M:N);c.lbrk=b;c.rbrk=d;!a.option("allowInterval")||2!==c.args.length||b!==X&&b!==Y||d!==M&&d!==N?c.op===a.COMMA&&(c.op=a.LIST):c.op=a.INTERVAL;break;case L:c=s();break;case Ra:k();b=s();d=[];for(d.push(C());n===
O;)k(),d.push(C());d=h(l[O],d);r(ja);s();0<=b.args[0].indexOf("matrix")?c=h(a.MATRIX,[d]):assert(!1,"Unrecognized LaTeX name");break;case A:r(A);c=Z();r(A);c=y(a.ABS,[c]);break;case $:k();c=s();b=s();c=h(a.FRAC,[c,b]);c.isFraction=!0;break;case ka:k();b=s();d=s();c=y(a.FACT,[b]);b=u(a.POW,[u(a.MUL,[y(a.FACT,[d]),y(a.FACT,[u(a.ADD,[b,la(d)])])]),B]);c=u(a.MUL,[c,b]);c.isBinomial=!0;break;case ma:k();switch(n){case Y:r(Y);c=I();r(N);b=s();c=h(a.POW,[b,h(a.POW,[c,B])]);break;case L:b=s();c=h(a.POW,[b,
h(a.POW,[h(a.NUM,["2"]),B])]);break;default:assert(!1,f(1001,["{ or (",String.fromCharCode(n)]))}break;case na:k();c=s();c=h(a.VEC,[c]);break;case oa:case pa:case qa:k();var g;for(c=[];n===J;)k({oneCharToken:!0}),c.push(G());1===c.length&&c[0].op===a.NUM&&"-1"===c[0].args[0]?(b="arc"+l[b],c=[]):b=l[b];c.unshift(h(b,[v()]));return 1<c.length?h(a.POW,c):c[0];case ra:case sa:case ta:case ua:case va:case wa:k();for(c=[];n===J;)k({oneCharToken:!0}),c.push(G());c.unshift(h(l[b],[v()]));return 1<c.length?
h(a.POW,c):c[0];case xa:return k(),h(a.LOG,[h(a.VAR,["e"]),v()]);case ya:return k(),h(a.LOG,[h(a.NUM,["10"]),v()]);case za:return k(),c=[],n===E?(k({oneCharToken:!0}),c.push(v())):c.push(h(a.VAR,["e"])),c.push(v()),h(a.LOG,c);case Aa:return k(),c=[],r(E),c.push(v()),c.push(v()),h(l[b],c);case Ba:case Ca:case Da:return k(),c=[],n===E&&(k({oneCharToken:!0}),c.push(v()),r(J,{oneCharToken:!0}),c.push(v())),c.push(I()),h(l[b],c);case Ea:return k(),h(a.EXISTS,[P()]);case Fa:return k(),h(a.FORALL,[I()]);
case Ga:return k(),h(a.EXP,[Z()]);case Sa:return k(),h(a.M,[Ha()]);case Ia:return k(),h(a.FORMAT,[s()]);default:assert(!1,f(1006,[w.lexeme()])),c=void 0}return c}function C(){var a=[];for(a.push(P());n===Q;)k(),a.push(P());return h(l[Q],a)}function s(){r(L);var a=I();r(ha);return a}function aa(){var c;var b;for(c=[v()];(b=n)===J;){k({oneCharToken:!0});var d;d=c[0];d=d.op!==a.VAR?!1:(d=a.env[d.args[0]])&&d.name?!0:!1;!(d||e()&&c[0].op===a.VAR)||(b=n)!==F&&b!==z?(b=G(),b.op===a.VAR&&"\\circ"===b.args[0]?
c=[K([c[0],h(a.VAR,["\\degree"])])]:c.push(b)):(k(),c.push(y(l[b],[Ta])))}c=1<c.length?h(a.POW,c):c[0];switch(n){case Ua:k();c=h(a.PERCENT,[c]);break;case Va:k();c=h(a.FACT,[c]);break;case D:"\\atomic"===w.lexeme()?(k(),b=s(),d=s(),assert(c.op===a.VAR),c.args.push(b),c=h(a.POW,[c,d])):"\\polyatomic"===w.lexeme()&&(k(),b=s(),d=s(),assert(c.op===a.VAR),c.args.push(d),c=h(a.POW,[c,b]))}return c}function G(){var c,b;switch(c=n){case F:k();b=aa();break;case z:k();b=la(aa());break;case R:k();b=G();b=h(l[c],
[b]);break;case E:case J:var e=l[c];k({oneCharToken:!0});(c=n)===F||c===z?(k(),b=Ta):b=G();b=h(e,[b]);break;default:c===D&&"$"===w.lexeme()?(k(),b=n?K([h(a.VAR,["$"]),aa()]):h(a.VAR,["$"])):b=aa()}return b}function Wa(){for(var c=[G()];n===E;)k({oneCharToken:!0}),c.push(G());return 1<c.length?h(a.SUBSCRIPT,c):c[0]}function Xa(){for(var c=Wa();n===Ja;)k(),c=h(a.FRAC,[c,Wa()]),c.isFraction=!0;return c}function Ha(){var c,b,d=!1,g=[];b=Xa();for(g=b.op!==a.MUL||b.isBinomial?[b]:b.args;(c=n)&&!Ya(c)&&
!Ka(c)&&c!==ba&&c!==ca&&c!==ha&&c!==M&&c!==N&&c!==S&&c!==T&&c!==A&&c!==O&&c!==Q&&c!==ja;){d=!1;if(c===U||c===da||c===Ja)k(),d=!0;b=Xa();c===da&&(b=h(a.POW,[b,B]));var f;if(f=e())if(f=c===X)f=g[g.length-1],assert(!0,"Internal error in 'isVar()'"),f=f.op!==a.VAR?!1:void 0===f?!0:"M"===f.args[0];if(f)g.pop(),b=y(a.M,[b]);else{if(f=!d)if(f=0<g.length)f=[g[g.length-1],b],f=f[0].op===a.NUM&&"integer"===f[0].numberFormat&&f[1].op===a.FRAC&&f[1].args[0].op===a.NUM&&"integer"===f[1].args[0].numberFormat&&
f[1].args[1].op===a.NUM&&"integer"===f[1].args[1].numberFormat?!0:!1;if(f)c=g.pop(),La(c)&&(b=u(a.MUL,[B,b])),b=u(a.ADD,[c,b]),b.isMixedFraction=!0;else{if(f=c===U)if(f=0<g.length)d&&(f=[g[g.length-1],b],1===f.length?d=f[0].op===a.NUM&&(1===f[0].args[0].length||1===f[0].args[0].indexOf(q()))||f[0].op===a.POW&&f[0].args[0].op===a.NUM&&"10"===f[0].args[0].args[0]&&"integer"===f[0].args[1].numberFormat?!0:!1:2===f.length?(d=f[0],f=f[1],d=d.op!==a.NUM||1!==d.args[0].length&&1!==d.args[0].indexOf(q())||
f.op!==a.POW||f.args[0].op!==a.NUM||"10"!==f.args[0].args[0]||"integer"!==f.args[1].numberFormat?!1:!0):d=void 0),f=d;f&&(c=g.pop(),La(c)&&(b=u(a.MUL,[B,b])),b=u(a.MUL,[c,b]),b.isScientific=!0)}}b.op!==a.MUL||b.isScientific||b.isBinomial?g.push(b):g=g.concat(b.args)}if(1<g.length){if(c=e())a:{c=g[1];if(c.op===a.VAR)c=c.args[0];else if(c.op===a.POW)c=c.args[0].args[0];else{c=!1;break a}c=(c=a.env[c])&&c.mass?!0:!1}return c?g[0].op===a.NUM?(c=g.shift(),K([c,u(a.ADD,g)])):u(a.ADD,g):b=K(g)}return g[0]}
function La(c){if("number"===typeof c)return 0>c;if(1===c.args.length)return c.op===b.SUB&&0<c.args[0].args[0]||c.op===a.NUM&&0>+c.args[0];if(2===c.args.length)return c.op===b.MUL&&La(c.args[0])}function la(b){return"number"===typeof b?-b:b.op===a.NUM?"-"===b.args[0].charAt(0)?y(a.SUB,[b]):t("-"+b.args[0]):b.op===a.MUL?(b.args.unshift(B),b):K([B,b])}function Ya(a){return a===F||a===z||a===R}function Z(){for(var b=Ha(),e;Ya(e=n);){k();var d=Ha();switch(e){case R:b=u(a.PM,[b,d]);break;case z:d=la(d);
default:b=u(a.ADD,[b,d],!0)}}return b}function Ka(a){return a===T||a===ea||a===fa||a===ga||a===Ma||a===Na||a===Oa}function Za(){for(var b=n,e=Ka(b)?h(a.VAR,["_"]):Z(),d=[];Ka(b=n);){k();var f=0===n?h(a.VAR,["_"]):Z(),e=h(l[b],[e,f]);d.push(e);e=f}return 0===d.length?e:1===d.length?d[0]:h(a.COMMA,d)}function P(){for(var b=n===ca?h(a.VAR,["_"]):Za(),e;(e=n)===ca||e===S;){k();var d=0===n?h(a.VAR,["_"]):Za(),b=h(l[e],[b,d])}return b}function I(){for(var a=P(),b=[a];n===ba;)k(),b.push(P());return 1<b.length?
h(l[ba],b):a}var W=0,F=43,J=94,E=95,pa=261,va=264,wa=265,$=256,Ja=47,ca=61,xa=263,L=123,A=124,Y=91,X=40,U=42,ia=48,R=258,ha=125,N=93,M=41,ua=262,oa=259,ma=257,z=45,qa=260,D=97,ba=44,ya=267,za=268,T=270,ea=271,fa=272,ga=273,Ea=274,Ma=275,Fa=276,Aa=277,Ga=278,Na=279,Ba=280,Ca=281,Da=282,Ua=37,Sa=283,S=284,Va=33,ka=285,O=286,Q=287,Ra=288,ja=289,Oa=58,na=290,ra=291,sa=292,ta=293,da=294,Ia=295,n=W,Qa=W,l={};l[Ja]=b.FRAC;l[$]=b.FRAC;l[ma]=b.SQRT;l[na]=b.VEC;l[F]=b.ADD;l[z]=b.SUB;l[R]=b.PM;l[J]=b.POW;l[E]=
b.SUBSCRIPT;l[U]=b.MUL;l[da]=b.DIV;l[oa]=b.SIN;l[pa]=b.COS;l[qa]=b.TAN;l[ra]=b.ARCSIN;l[sa]=b.ARCCOS;l[ta]=b.ARCTAN;l[ua]=b.SEC;l[va]=b.COT;l[wa]=b.CSC;l[xa]=b.LN;l[ya]=b.LG;l[za]=b.LOG;l[ca]=b.EQL;l[ba]=b.COMMA;l[269]=b.TEXT;l[T]=b.LT;l[ea]=b.LE;l[fa]=b.GT;l[ga]=b.GE;l[Ea]=b.EXISTS;l[Ma]=b.IN;l[Fa]=b.FORALL;l[Aa]=b.LIM;l[Ga]=b.EXP;l[Na]=b.TO;l[Ba]=b.SUM;l[Ca]=b.INT;l[Da]=b.PROD;l[Sa]=b.M;l[S]=b.RIGHTARROW;l[Va]=b.FACT;l[ka]=b.BINOM;l[O]=b.ROW;l[Q]=b.COL;l[Oa]=b.COLON;l[Ia]=b.FORMAT;var Ta=t("1"),
B=t("-1"),w=function(b){function e(a){return 65<=a&&90>=a||97<=a&&122>=a}function g(a){return 48<=a&&57>=a}function l(a){var d=String.fromCharCode(a);for(k+=d;e(a)||39===a;){a=b.charCodeAt(h++);var d=String.fromCharCode(a),f=k+d;if(!some(s,function(a){return 0===a.indexOf(f)}))break;k+=d}for(;39===a;)a=b.charCodeAt(h++),d=String.fromCharCode(a),k+=d;h--;return D}var h=0,k="",n={"\\cdot":U,"\\times":U,"\\div":da,"\\dfrac":$,"\\frac":$,"\\sqrt":ma,"\\vec":na,"\\pm":R,"\\sin":oa,"\\cos":pa,"\\tan":qa,
"\\sec":ua,"\\cot":va,"\\csc":wa,"\\arcsin":ra,"\\arccos":sa,"\\arctan":ta,"\\ln":xa,"\\lg":ya,"\\log":za,"\\left":null,"\\right":null,"\\big":null,"\\Big":null,"\\bigg":null,"\\Bigg":null,"\\ ":null,"\\quad":null,"\\qquad":null,"\\text":269,"\\textrm":269,"\\textit":269,"\\textbf":269,"\\lt":T,"\\le":ea,"\\gt":fa,"\\ge":ga,"\\exists":Ea,"\\in":Ma,"\\forall":Fa,"\\lim":Aa,"\\exp":Ga,"\\to":Na,"\\sum":Ba,"\\int":Ca,"\\prod":Da,"\\%":Ua,"\\rightarrow":S,"\\binom":ka,"\\begin":Ra,"\\end":ja,"\\colon":Oa,
"\\vert":A,"\\lvert":A,"\\rvert":A,"\\mid":A,"\\format":Ia},s=keys(d),r;return{start:function(d){d||(d={});var m;for(k="";h<b.length;)switch(m=b.charCodeAt(h++)){case 32:case 9:case 10:case 13:continue;case 38:if(0===b.substring(h).indexOf("nbsp;")){h+=5;continue}return Q;case 92:k+=String.fromCharCode(m);if(92===b.charCodeAt(h))return h++,O;m=b.charCodeAt(h++);if(36===m)k=String.fromCharCode(m);else if(37===m)k+=String.fromCharCode(m);else if(0<=[32,58,59,44,33].indexOf(m))k="\\ ";else{for(;e(m);)k+=
String.fromCharCode(m),m=b.charCodeAt(h++);h--}m=n[k];if(void 0===m)m=D;else if(269===m){for(m=b.charCodeAt(h++);123!==m;)m=b.charCodeAt(h++);k="";for(m=b.charCodeAt(h++);125!==m;)m=String.fromCharCode(m),"&"===m&&0===b.substring(h).indexOf("nbsp;")?h+=5:" "!==m&&"\t"!==m&&(k+=m),m=b.charCodeAt(h++);m=a.option("ignoreText")?null:D}if(null!==m)return m;k="";continue;case 45:if(62===b.charCodeAt(h))return h++,S;case 33:case 37:case 40:case 41:case 42:case 43:case 44:case 47:case 58:case 61:case 91:case 93:case 94:case 95:case 123:case 124:case 125:return k+=
String.fromCharCode(m),m;case 36:return k+=String.fromCharCode(m),D;case 60:return 61===b.charCodeAt(h)?(h++,ea):T;case 62:return 61===b.charCodeAt(h)?(h++,ga):fa;default:if(e(m)||39===m)return l(m);if(String.fromCharCode(m)===q()||g(m)){if(d.oneCharToken)return k+=String.fromCharCode(m),ia;for(d=m;g(d)||q()===String.fromCharCode(d)||(r=p(String.fromCharCode(d),r))&&g(b.charCodeAt(h+1));)k+=String.fromCharCode(d),d=b.charCodeAt(h++),92===d&&32===b.charCodeAt(h)&&(d=32,h++);h--;return ia}assert(!1,
f(1004,[String.fromCharCode(m),m]));return 0}return 0},lexeme:function(){return k},pos:function(){return h}}}(g);return{expr:function(){if(n=w.start(void 0)){var a=I();assert(!n,f(1003,[w.pos(),w.lexeme()]));return a}return t("dummy")}}};return a}();
