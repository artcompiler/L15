var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString),forEach=function(a,d,e){if(Array.prototype.forEach)return a.forEach(d);a=toObject(a);var p=splitString&&"[object String]"==_toString(a)?a.split(""):a,q=-1,m=p.length>>>0;if("[object Function]"!=_toString(d))throw new TypeError;for(;++q<m;)q in p&&d.call(e,p[q],q,a)},filter=function(a,d,e){if(Array.prototype.filter)return a.filter(d);var p=toObject(a);a=splitString&&"[object String]"==_toString(a)?a.split(""):p;var q=
a.length>>>0,m=[],b;if("[object Function]"!=_toString(d))throw new TypeError(d+" is not a function");for(var f=0;f<q;f++)f in a&&(b=a[f],d.call(e,b,f,p)&&m.push(b));return m},every=function(a,d,e){if(Array.prototype.every)return a.every(d,e);var p=toObject(a);a=splitString&&"[object String]"==_toString(a)?a.split(""):p;var q=a.length>>>0;if("[object Function]"!=_toString(d))throw new TypeError(d+" is not a function");for(var m=0;m<q;m++)if(m in a&&!d.call(e,a[m],m,p))return!1;return!0},some=function(a,
d,e){if(Array.prototype.some)return a.some(d,e);var p=toObject(a);a=splitString&&"[object String]"==_toString(a)?a.split(""):p;var q=a.length>>>0;if("[object Function]"!=_toString(d))throw new TypeError(d+" is not a function");for(var m=0;m<q;m++)if(m in a&&d.call(e,a[m],m,p))return!0;return!1},indexOf=function(a,d){var e=arguments[2];if(Array.prototype.indexOf)return a.indexOf(d,e);var p=splitString&&"[object String]"==_toString(a)?a.split(""):toObject(a),q=p.length>>>0;if(!q)return-1;var m=0;2<
arguments.length&&(m=toInteger(e));for(m=0<=m?m:Math.max(0,q+m);m<q;m++)if(m in p&&p[m]===d)return m;return-1},keys=function(a){if(Object.keys)return Object.keys(a);var d=!0,e="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),p=e.length,q;for(q in{toString:null})d=!1;if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on a non-object");q=[];for(var m in a)owns(a,m)&&q.push(m);if(d)for(d=0;d<p;d++)m=
e[d],owns(a,m)&&q.push(m);return q},toObject=function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return Object(a)},prototypeOfObject=Object.prototype,_toString=function(a){return prototypeOfObject.toString.apply(a)},owns=function(a,d){return prototypeOfObject.hasOwnProperty.call(a,d)},create=function(a){if(Object.create)return Object.create(a);var d=function(){};if(1!=arguments.length)throw Error("Object.create implementation only accepts one parameter.");d.prototype=a;return new d};var ASSERT=!0,assert=function(){return ASSERT?function(a,d){void 0===d&&(d="failed!");if(!a){var e=Error(d);e.location=Assert.location;throw e;}}:function(){}}(),message=function(a,d){var e=Assert.messages[a];d&&forEach(d,function(a,d){e=e.replace("%"+(d+1),a)});return a+": "+e},reserveCodeRange=function(a,d,e){assert(a<=d,"Invalid code range");var p=every(Assert.reservedCodes,function(e){return d<e.first||a>e.last});assert(p,"Conflicting request for error code range");Assert.reservedCodes.push({first:a,
last:d,name:e})},setLocation=function(a){Assert.location=a},clearLocation=function(){Assert.location=null},setCounter=function(a,d){Assert.count=a;Assert.countMessage=d?d:"ERROR count exceeded"},checkCounter=function(){var a=Assert.count;"number"!==typeof a||isNaN(a)?assert(!1,"ERROR counter not set"):assert(Assert.count--,Assert.countMessage)},Assert={assert:assert,message:message,messages:{},reserveCodeRange:reserveCodeRange,reservedCodes:[],setLocation:setLocation,clearLocation:clearLocation,setCounter:setCounter,
checkCounter:checkCounter};var TRACE=!1,global=this,trace=function(){return TRACE?function(a){if(global.console&&global.console.log)console.log(a);else if(global.print)print(a);else throw"No trace function defined!";}:function(){}}();var Ast=function(){function a(){}function d(a){void 0===a&&(a=this);return a.op&&a.args}var e=["unused"],p={};a.clearPool=function(){e=["unused"];p={}};a.prototype.create=function m(a,d){var e=m(this);"string"===typeof a?(e.op=a,e.args=d instanceof Array?d:[]):null!==a&&"object"===typeof a&&forEach(keys(a),function(d,f){e[d]=a[d]});return e};a.prototype.arg=function(a){if(!d(this))throw"Malformed node";this.args.push(a);return this};a.prototype.argN=function(a,b){if(!d(this))throw"Malformed node";
if(void 0===b)return this.args[a];this.args[a]=b;return this};a.prototype.args=function(a){if(!d(this))throw"Malformed node";if(void 0===a)return this.args;this.args=a;return this};a.prototype.isNode=d;a.intern=a.prototype.intern=function b(f){this instanceof a&&void 0===f&&d(this)&&(f=this);assert("object"===typeof f,"node not an object");for(var C=f.op,t=f.args.length,W="",H=[],w=0;w<t;w++)W="string"===typeof f.args[w]?W+(H[w]=f.args[w]):W+(H[w]=b(f.args[w]));f=C+t+W;t=p[f];void 0===t&&(e.push({op:C,
args:H}),t=e.length-1,p[f]=t);return t};a.prototype.node=function(a){a=JSON.parse(JSON.stringify(e[a]));for(var d=0;d<a.args.length;d++)"string"!==typeof a.args[d]&&(a.args[d]=this.node(a.args[d]));return a};a.dumpAll=a.prototype.dumpAll=function(){var b="";forEach(e,function(d,e){b+="\n"+e+": "+a.dump(d)});return b};a.dump=a.prototype.dump=function f(a){if("string"===typeof a)var d='"'+a+'"';else if("number"===typeof a)d=a;else{for(var d='{ op: "'+a.op+'", args: [ ',e=0;e<a.args.length;e++)0<e&&
(d+=" , "),d+=f(a.args[e]);d+=" ] }"}return d};return a}();var Model=function(){function a(){}function d(){return!!a.env.Au}a.fn={};a.env=p={};var e=[],p={};a.pushEnv=function(b){e.push(p);a.env=p=b};a.popEnv=function(){assert(0<e.length,"Empty envStack");a.env=p=e.pop()};var q=a.prototype=new Ast;Assert.reserveCodeRange(1E3,1999,"model");Assert.messages[1001]="Invalid syntax. '%1' expected, '%2' found.";Assert.messages[1002]="Only one decimal separator can be specified.";Assert.messages[1003]="Extra characters in input at position: %1, lexeme: %2.";Assert.messages[1004]=
"Invalid character '%1' (%2) in input.";Assert.messages[1005]="Misplaced thousands separator.";Assert.messages[1006]="Unexpected expression: %1";Assert.messages[1007]="Unexpected character: '%1' in '%2'.";Assert.messages[1008]="The same character '%1' is being used as a thousands and decimal separators.";var m=Assert.message;a.create=q.create=function H(b,d){assert(b,"Model.create() called with invalid argument "+b);if(b instanceof a)return d&&(b.location=d),b;var f;if(b instanceof Array)return f=
[],forEach(b,function(a){f.push(H(a,d))}),f;if(!(this instanceof a))return(new a).create(b,d);f=H(this);f.location=d;b="string"===typeof b?t(b,a.env).expr():JSON.parse(JSON.stringify(b));forEach(keys(a.fn),function(b,d){q.hasOwnProperty(b)||(q[b]=function(){var d=a.fn[b];if(1<arguments.length&&arguments[1]instanceof a)return d.apply(this,arguments);for(var f=[this],e=0;e<arguments.length;e++)f.push(arguments[e]);return d.apply(this,f)})});forEach(keys(b),function(a,d){f[a]=b[a]});return f};a.fromLaTex=
q.fromLaTex=function(b){assert("string"===typeof b,"Model.prototype.fromLaTex");return this?this.create(b):a.create(b)};q.toLaTex=function(a){return C(a)};var b={ADD:"+",SUB:"-",MUL:"times",DIV:"div",FRAC:"frac",EQL:"=",ATAN2:"atan2",SQRT:"sqrt",VEC:"vec",PM:"pm",SIN:"sin",COS:"cos",TAN:"tan",SEC:"sec",COT:"cot",CSC:"csc",ARCSIN:"arcsin",ARCCOS:"arccos",ARCTAN:"arctan",LOG:"log",LN:"ln",LG:"lg",VAR:"var",NUM:"num",CST:"cst",COMMA:",",POW:"^",SUBSCRIPT:"_",ABS:"abs",PAREN:"()",HIGHLIGHT:"hi",LT:"lt",
LE:"le",GT:"gt",GE:"ge",INTERVAL:"interval",LIST:"list",EXISTS:"exists",IN:"in",FORALL:"forall",LIM:"lim",EXP:"exp",TO:"to",SUM:"sum",INT:"int",PROD:"prod",PERCENT:"%",M:"M",RIGHTARROW:"->",FACT:"fact",BINOM:"binom",ROW:"row",COL:"col",COLON:"colon",MATRIX:"matrix",FORMAT:"format",OVERSET:"overset",UNDERSET:"underset",OVERLINE:"overline"};forEach(keys(b),function(d,f){a[d]=b[d]});var f={};f[b.ADD]="+";f[b.SUB]="-";f[b.MUL]="\\times";f[b.DIV]="\\div";f[b.FRAC]="\\frac";f[b.EQL]="=";f[b.ATAN2]="\\atan2";
f[b.POW]="^";f[b.SUBSCRIPT]="_";f[b.PM]="\\pm";f[b.SIN]="\\sin";f[b.COS]="\\cos";f[b.TAN]="\\tan";f[b.ARCSIN]="\\arcsin";f[b.ARCCOS]="\\arccos";f[b.ARCTAN]="\\arctan";f[b.SEC]="\\sec";f[b.COT]="\\cot";f[b.CSC]="\\csc";f[b.LN]="\\ln";f[b.COMMA]=",";f[b.M]="\\M";f[b.BINOM]="\\binom";f[b.COLON]="\\colon";a.fold=function w(a,d){var h=[],f;forEach(a.args,function(a){h.push(w(a,d))});a.args=h;switch(a.op){case b.VAR:if(f=d[a.args[0]])a=f}return a};var C=function bb(a){var d="";if("string"===typeof a)d=
a;else if("number"===typeof a)d=a;else if("object"===typeof a){for(var e=[],m=0;m<a.args.length;m++)e[m]=bb(a.args[m]);switch(a.op){case b.VAR:case b.CST:case b.NUM:d=a.args[0];break;case b.SUB:d=1===a.args.length?f[a.op]+" "+e[0]:e[0]+" "+f[a.op]+" "+e[1];break;case b.DIV:case b.PM:case b.EQL:d=e[0]+" "+f[a.op]+" "+e[1];break;case b.POW:var m=a.args[0],p=a.args[1];if(m.args&&2===m.args.length||p.args&&2===p.args.length)if(m.op===b.ADD||m.op===b.SUB||m.op===b.MUL||m.op===b.DIV||m.op===b.SQRT)e[0]=
" ("+e[0]+") ";d="{"+e[0]+"^{"+e[1]+"}}";break;case b.SIN:case b.COS:case b.TAN:case b.ARCSIN:case b.ARCCOS:case b.ARCTAN:case b.SEC:case b.COT:case b.CSC:case b.LN:case b.M:d="{"+f[a.op]+"{"+e[0]+"}}";break;case b.FRAC:d="\\dfrac{"+e[0]+"}{"+e[1]+"}";break;case b.BINOM:d="\\binom{"+e[0]+"}{"+e[1]+"}";break;case b.SQRT:switch(e.length){case 1:d="\\sqrt{"+e[0]+"}";break;case 2:d="\\sqrt["+e[0]+"]{"+e[1]+"}"}break;case b.VEC:d="\\vec{"+e[0]+"}";break;case b.MUL:var q,d="";forEach(a.args,function(m,
p){if(m.args&&2<=m.args.length){if(m.op===b.ADD||m.op===b.SUB)e[p]="("+e[p]+")";0!==p&&"number"===typeof m&&(d+=f[a.op]+" ")}else m.op===b.PAREN||m.op===b.VAR||m.op===b.CST||"number"===typeof q&&"number"!==typeof m||0!==p&&(d+=" "+f[a.op]+" ");d+=e[p];q=m});break;case b.ADD:case b.COMMA:forEach(e,function(b,e){d=0===e?b:d+" "+f[a.op]+" "+b});break;default:assert(!1,"unimplemented eval operator")}}else assert(!1,"invalid expression type");return d},t=function(e,f){function h(a,b){return{op:a,args:b}}
function p(c,b){if(a.option("allowThousandsSeparator")){var d=a.option("setThousandsSeparator");if(!d)return","===c?c:"";if(c===b||!b&&0<=d.indexOf(c))return c}return""}function q(){var c=a.option("setDecimalSeparator"),b=a.option("setThousandsSeparator");if("string"===typeof c)return assert(1===c.length,m(1002)),b instanceof Array&&0<=b.indexOf(c)?(assert(!1,m(2008,[c])),"."):c;b instanceof Array&&0<=b.indexOf(".")&&assert(!1,m(2008));return"."}function t(c,b,d){var e=a.option("ignoreTrailingZeros"),
g=c.toString(),f="",l,h,n,k=!1,X="integer",r,s;"."===c&&assert(!1,m(1004,[c,c.charCodeAt(0)]));for(c=0;c<g.length;c++)p(l=g.charAt(c))?(k&&h!==c-4&&assert(!1,m(1005)),h=c,k=!0):(l===q()?(l=".","decimal"===X&&assert(!1,m(1007,[q(),f+q()])),X="decimal",k&&h!==c-4&&assert(!1,m(1005)),k=!1,"0"===f&&(r=!0),n=c-1):"decimal"===X&&"0"!==l&&(n=c),f+=l);k&&h!==c-4&&assert(!1,m(1005));void 0!==n&&(n+1<f.length&&(s=!0),e&&(f=f.substring(0,n+1)));f=new BigDecimal(f);b&&(b=option("decimalPlaces"),!d||f.scale()>
b)&&(f=f.setScale(b,BigDecimal.ROUND_HALF_UP));return{op:a.NUM,args:[String(f)],hasThousandsSeparator:k,numberFormat:X,hasLeadingZero:r,hasTrailingZero:s}}function L(c,b){return u(a.MUL,c,b)}function x(c,b){assert(1===b.length,"Wrong number of arguments for unary node");return c===a.ADD?b[0]:h(c,b)}function u(a,b,d){assert(1<b.length,"Too few argument for binary node");var e=[];forEach(b,function(b){d&&b.op===a?e=e.concat(b.args):e.push(b)});return h(a,e)}function n(a){k=Ta;Ta=Y;k===Y&&(k=y.start(a))}
function r(a,b){var d=k;if(d!==a){var e=String.fromCharCode(a),d=d?String.fromCharCode(d):"EOS";assert(!1,m(1001,[e,d]))}n(b)}function v(){var c,b;switch(b=k){case 65:case 97:case I:c=[y.lexeme()];n();(f=k)===D&&(n({oneCharToken:!0}),c.push(v()));c=h(a.VAR,c);d()&&((f=k)===E||f===z?(n(),c=x(l[f],[c])):k===F&&(r(F),r(Z)));break;case ja:c=t(y.lexeme());n();!d()||(f=k)!==E&&f!==z||(n(),c=x(l[f],[c]));break;case $:case aa:var e;r(b);c=J();a.option("allowInterval")?r(e=k===M?M:N):r(e=b===$?M:N);c.lbrk=
b;c.rbrk=e;!a.option("allowInterval")||2!==c.args.length||b!==$&&b!==aa||e!==M&&e!==N?c.op===a.COMMA&&(c.op=a.LIST):c.op=a.INTERVAL;break;case F:c=s();break;case Ua:n();b=s();e=[];for(e.push(C());k===O;)n(),e.push(C());e=h(l[O],e);r(ka);s();0<=b.args[0].indexOf("matrix")?c=h(a.MATRIX,[e]):assert(!1,"Unrecognized LaTeX name");break;case A:r(A);b=P();r(A);c=x(a.ABS,[b]);break;case ba:n();c=s();e=s();c=h(a.FRAC,[c,e]);c.isFraction=!0;break;case la:n();c=s();e=s();b=x(a.FACT,[c]);c=u(a.POW,[u(a.MUL,[x(a.FACT,
[e]),x(a.FACT,[u(a.ADD,[c,ma(e)])])]),B]);c=u(a.MUL,[b,c]);c.isBinomial=!0;break;case na:n();switch(k){case aa:r(aa);b=J();r(N);c=s();c=h(a.POW,[c,h(a.POW,[b,B])]);break;case F:c=s();c=h(a.POW,[c,h(a.POW,[h(a.NUM,["2"]),B])]);break;default:assert(!1,m(1001,["{ or (",String.fromCharCode(k)]))}break;case oa:n();b=s();c=h(a.VEC,[b]);break;case pa:case qa:case ra:n();var f;for(c=[];k===K;)n({oneCharToken:!0}),c.push(G());1===c.length&&c[0].op===a.NUM&&"-1"===c[0].args[0]?(b="arc"+l[b],c=[]):b=l[b];c.unshift(h(b,
[v()]));return 1<c.length?h(a.POW,c):c[0];case sa:case ta:case ua:case va:case wa:case xa:n();for(c=[];k===K;)n({oneCharToken:!0}),c.push(G());c.unshift(h(l[b],[v()]));return 1<c.length?h(a.POW,c):c[0];case ya:return n(),h(a.LOG,[h(a.VAR,["e"]),v()]);case za:return n(),h(a.LOG,[h(a.NUM,["10"]),v()]);case Aa:return n(),c=[],k===D?(n({oneCharToken:!0}),c.push(v())):c.push(h(a.VAR,["e"])),c.push(v()),h(a.LOG,c);case Ba:return n(),c=[],r(D),c.push(v()),c.push(v()),h(l[b],c);case Ca:case Da:case Ea:return n(),
c=[],k===D&&(n({oneCharToken:!0}),c.push(v()),r(K,{oneCharToken:!0}),c.push(v())),c.push(J()),h(l[b],c);case Fa:return n(),h(a.EXISTS,[Q()]);case Ga:return n(),h(a.FORALL,[J()]);case Ha:return n(),h(a.EXP,[P()]);case Va:return n(),h(a.M,[Ia()]);case Ja:return n(),h(a.FORMAT,[s()]);case Ka:return n(),h(a.OVERLINE,[s()]);case La:case Ma:return n(),c=s(),e=s(),e.args.push(h(l[b],[c])),e;default:assert(!1,m(1006,[y.lexeme()])),c=void 0}return c}function C(){var a=[];for(a.push(Q());k===R;)n(),a.push(Q());
return h(l[R],a)}function s(){r(F);var a=J();r(Z);return a}function ca(){var c;var b;for(c=[v()];(b=k)===K;){n({oneCharToken:!0});var e;e=c[0];e=e.op!==a.VAR?!1:(e=a.env[e.args[0]])&&e.name?!0:!1;!(e||d()&&c[0].op===a.VAR)||(b=k)!==E&&b!==z?(b=G(),b.op===a.VAR&&"\\circ"===b.args[0]?c=[L([c[0],h(a.VAR,["\\degree"])])]:c.push(b)):(n(),c.push(x(l[b],[Wa])))}c=1<c.length?h(a.POW,c):c[0];switch(k){case Xa:n();c=h(a.PERCENT,[c]);break;case Ya:n(),c=h(a.FACT,[c])}return c}function G(){var c,b;switch(c=k){case E:n();
b=ca();break;case z:n();b=ma(ca());break;case S:n();b=G();b=h(l[c],[b]);break;case D:case K:var d=l[c];n({oneCharToken:!0});(c=k)===E||c===z?(n(),b=Wa):b=G();b=h(d,[b]);break;default:c===I&&"$"===y.lexeme()?(n(),b=k?L([h(a.VAR,["$"]),ca()]):h(a.VAR,["$"])):b=ca()}return b}function Za(){var c=[G()];k===D&&(n({oneCharToken:!0}),c.push(G()),d()&&k===F&&(r(F),r(Z)));return 1<c.length?h(a.SUBSCRIPT,c):c[0]}function $a(){for(var c=Za();k===Na;)n(),c=h(a.FRAC,[c,Za()]),c.isFraction=!0;return c}function Ia(){var c,
b,e=!1,f=[];b=$a();for(f=b.op!==a.MUL||b.isBinomial?[b]:b.args;(c=k)&&!ab(c)&&!Oa(c)&&c!==da&&c!==ea&&c!==Z&&c!==M&&c!==N&&c!==T&&c!==U&&c!==A&&c!==O&&c!==R&&c!==ka;){e=!1;if(c===V||c===fa||c===Na)n(),e=!0;b=$a();c===fa&&(b=h(a.POW,[b,B]));var g;if(g=d())if(g=c===$)g=f[f.length-1],assert(!0,"Internal error in 'isVar()'"),g=g.op!==a.VAR?!1:void 0===g?!0:"M"===g.args[0];if(g)f.pop(),b=x(a.M,[b]);else{if(g=!e)if(g=0<f.length)g=[f[f.length-1],b],g=g[0].lbrk||g[1].lbrk||g[0].op!==a.NUM||g[1].op!==a.FRAC||
"integer"!==g[0].numberFormat||g[1].args[0].op!==a.NUM||"integer"!==g[1].args[0].numberFormat||g[1].args[1].op!==a.NUM||"integer"!==g[1].args[1].numberFormat?!1:!0;if(g)c=f.pop(),Pa(c)&&(b=u(a.MUL,[B,b])),b=u(a.ADD,[c,b]),b.isMixedFraction=!0;else{if(g=!e)if(g=0<f.length)g=[f[f.length-1],b],g=g[0].lbrk||g[1].lbrk||g[0].op!==a.NUM||"decimal"!==g[0].numberFormat||g[1].op!==a.OVERLINE?!1:!0;if(g)c=f.pop(),c.args[0]=c.args[0]+"."+b.args[0].args[0],c.isRepeatingFraction=!0,b=c;else{if(g=c===V)if(g=0<f.length)e&&
(g=[f[f.length-1],b],1===g.length?e=g[0].op===a.NUM&&(1===g[0].args[0].length||1===g[0].args[0].indexOf(q()))||g[0].op===a.POW&&g[0].args[0].op===a.NUM&&"10"===g[0].args[0].args[0]&&"integer"===g[0].args[1].numberFormat?!0:!1:2===g.length?(e=g[0],g=g[1],e=e.op!==a.NUM||1!==e.args[0].length&&1!==e.args[0].indexOf(q())||g.op!==a.POW||g.args[0].op!==a.NUM||"10"!==g.args[0].args[0]||"integer"!==g.args[1].numberFormat?!1:!0):e=void 0),g=e;g&&(c=f.pop(),Pa(c)&&(b=u(a.MUL,[B,b])),b=u(a.MUL,[c,b]),b.isScientific=
!0)}}}b.op!==a.MUL||b.isScientific||b.isBinomial?f.push(b):f=f.concat(b.args)}if(1<f.length){if(c=d())a:{c=f[1];if(c.op===a.VAR)c=c.args[0];else if(c.op===a.POW)c=c.args[0].args[0];else{c=!1;break a}c=(c=a.env[c])&&c.mass?!0:!1}return c?f[0].op===a.NUM?(c=f.shift(),L([c,u(a.ADD,f)])):u(a.ADD,f):b=L(f)}return f[0]}function Pa(c){if("number"===typeof c)return 0>c;if(1===c.args.length)return c.op===b.SUB&&0<c.args[0].args[0]||c.op===a.NUM&&0>+c.args[0];if(2===c.args.length)return c.op===b.MUL&&Pa(c.args[0])}
function ma(b){return"number"===typeof b?-b:b.op===a.NUM?"-"===b.args[0].charAt(0)?x(a.SUB,[b]):t("-"+b.args[0]):b.op===a.MUL?(b.args.unshift(B),b):L([B,b])}function ab(a){return a===E||a===z||a===S}function P(){for(var b=Ia(),d;ab(d=k);){n();var e=Ia();switch(d){case S:b=u(a.PM,[b,e]);break;case z:e=ma(e);default:b=u(a.ADD,[b,e],!0)}}return b}function Oa(a){return a===U||a===ga||a===ha||a===ia||a===Qa||a===Ra||a===Sa}function Q(){var b;if(k===ea)b=h(a.VAR,["_"]);else{b=k;for(var d=Oa(b)?h(a.VAR,
["_"]):P(),e=[];Oa(b=k);){n();var f=0===k?h(a.VAR,["_"]):P(),d=h(l[b],[d,f]);e.push(d);d=f}b=0===e.length?d:1===e.length?e[0]:h(a.COMMA,e)}for(var g,d=[];(g=k)===ea||g===T;)n(),e=0===k?h(a.VAR,["_"]):P(),b=h(l[g],[b,e]),d.push(b),b=e;return 0===d.length?b:1===d.length?d[0]:h(a.COMMA,d)}function J(){for(var a=Q(),b=[a];k===da;)n(),b.push(Q());return 1<b.length?h(l[da],b):a}var Y=0,E=43,K=94,D=95,qa=261,wa=264,xa=265,ba=256,Na=47,ea=61,ya=263,F=123,A=124,aa=91,$=40,V=42,ja=48,S=258,Z=125,N=93,M=41,
va=262,pa=259,na=257,z=45,ra=260,I=97,da=44,za=267,Aa=268,U=270,ga=271,ha=272,ia=273,Fa=274,Qa=275,Ga=276,Ba=277,Ha=278,Ra=279,Ca=280,Da=281,Ea=282,Xa=37,Va=283,T=284,Ya=33,la=285,O=286,R=287,Ua=288,ka=289,Sa=58,oa=290,sa=291,ta=292,ua=293,fa=294,Ja=295,Ka=296,La=297,Ma=298,k=Y,Ta=Y,l={};l[Na]=b.FRAC;l[ba]=b.FRAC;l[na]=b.SQRT;l[oa]=b.VEC;l[E]=b.ADD;l[z]=b.SUB;l[S]=b.PM;l[K]=b.POW;l[D]=b.SUBSCRIPT;l[V]=b.MUL;l[fa]=b.DIV;l[pa]=b.SIN;l[qa]=b.COS;l[ra]=b.TAN;l[sa]=b.ARCSIN;l[ta]=b.ARCCOS;l[ua]=b.ARCTAN;
l[va]=b.SEC;l[wa]=b.COT;l[xa]=b.CSC;l[ya]=b.LN;l[za]=b.LG;l[Aa]=b.LOG;l[ea]=b.EQL;l[da]=b.COMMA;l[269]=b.TEXT;l[U]=b.LT;l[ga]=b.LE;l[ha]=b.GT;l[ia]=b.GE;l[Fa]=b.EXISTS;l[Qa]=b.IN;l[Ga]=b.FORALL;l[Ba]=b.LIM;l[Ha]=b.EXP;l[Ra]=b.TO;l[Ca]=b.SUM;l[Da]=b.INT;l[Ea]=b.PROD;l[Va]=b.M;l[T]=b.RIGHTARROW;l[Ya]=b.FACT;l[la]=b.BINOM;l[O]=b.ROW;l[R]=b.COL;l[Sa]=b.COLON;l[Ja]=b.FORMAT;l[Ka]=b.OVERLINE;l[La]=b.OVERSET;l[Ma]=b.UNDERSET;var Wa=t("1"),B=t("-1"),y=function(b){function d(a){return 65<=a&&90>=a||97<=a&&
122>=a}function e(a){return 48<=a&&57>=a}function l(a){var e=String.fromCharCode(a);for(h+=e;d(a)||39===a;){a=b.charCodeAt(g++);var e=String.fromCharCode(a),f=h+e;if(!some(k,function(a){return 0===a.indexOf(f)}))break;h+=e}for(;39===a;)a=b.charCodeAt(g++),e=String.fromCharCode(a),h+=e;g--;return I}var g=0,h="",n={"\\cdot":V,"\\times":V,"\\div":fa,"\\dfrac":ba,"\\frac":ba,"\\sqrt":na,"\\vec":oa,"\\pm":S,"\\sin":pa,"\\cos":qa,"\\tan":ra,"\\sec":va,"\\cot":wa,"\\csc":xa,"\\arcsin":sa,"\\arccos":ta,"\\arctan":ua,
"\\ln":ya,"\\lg":za,"\\log":Aa,"\\left":null,"\\right":null,"\\big":null,"\\Big":null,"\\bigg":null,"\\Bigg":null,"\\ ":null,"\\quad":null,"\\qquad":null,"\\text":269,"\\textrm":269,"\\textit":269,"\\textbf":269,"\\lt":U,"\\le":ga,"\\gt":ha,"\\ge":ia,"\\exists":Fa,"\\in":Qa,"\\forall":Ga,"\\lim":Ba,"\\exp":Ha,"\\to":Ra,"\\sum":Ca,"\\int":Da,"\\prod":Ea,"\\%":Xa,"\\rightarrow":T,"\\binom":la,"\\begin":Ua,"\\end":ka,"\\colon":Sa,"\\vert":A,"\\lvert":A,"\\rvert":A,"\\mid":A,"\\format":Ja,"\\overline":Ka,
"\\overset":La,"\\underset":Ma},k=keys(f),r;return{start:function(f){f||(f={});var k;for(h="";g<b.length;)switch(k=b.charCodeAt(g++)){case 32:case 9:case 10:case 13:continue;case 38:if(0===b.substring(g).indexOf("nbsp;")){g+=5;continue}return R;case 92:h+=String.fromCharCode(k);if(92===b.charCodeAt(g))return g++,O;k=b.charCodeAt(g++);if(36===k)h=String.fromCharCode(k);else if(37===k)h+=String.fromCharCode(k);else if(0<=[32,58,59,44,33].indexOf(k))h="\\ ";else{for(;d(k);)h+=String.fromCharCode(k),
k=b.charCodeAt(g++);g--}k=n[h];if(void 0===k)k=I;else if(269===k){for(k=b.charCodeAt(g++);123!==k;)k=b.charCodeAt(g++);h="";for(k=b.charCodeAt(g++);125!==k;)k=String.fromCharCode(k),"&"===k&&0===b.substring(g).indexOf("nbsp;")?g+=5:" "!==k&&"\t"!==k&&(h+=k),k=b.charCodeAt(g++);k=a.option("ignoreText")?null:I}if(null!==k)return k;h="";continue;case 45:if(62===b.charCodeAt(g))return g++,T;case 33:case 37:case 40:case 41:case 42:case 43:case 44:case 47:case 58:case 61:case 91:case 93:case 94:case 95:case 123:case 124:case 125:return h+=
String.fromCharCode(k),k;case 36:return h+=String.fromCharCode(k),I;case 60:return 61===b.charCodeAt(g)?(g++,ga):U;case 62:return 61===b.charCodeAt(g)?(g++,ia):ha;default:if(d(k)||39===k)return l(k);if(String.fromCharCode(k)===q()||e(k)){if(f.oneCharToken)return h+=String.fromCharCode(k),ja;for(f=k;e(f)||q()===String.fromCharCode(f)||(r=p(String.fromCharCode(f),r))&&e(b.charCodeAt(g+1));)h+=String.fromCharCode(f),f=b.charCodeAt(g++),92===f&&32===b.charCodeAt(g)&&(f=32,g++);g--;return ja}assert(!1,
m(1004,[String.fromCharCode(k),k]));return 0}return 0},lexeme:function(){return h},pos:function(){return g}}}(e);return{expr:function(){if(k=y.start(void 0)){var a=J();assert(!k,m(1003,[y.pos(),y.lexeme()]));return a}return t("dummy")}}};return a}();
